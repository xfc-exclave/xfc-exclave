<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="チンモクのブログ" href="https://xfc-exclave.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="チンモクのブログ" href="https://xfc-exclave.github.io/atom.xml"><link rel="alternate" type="application/json" title="チンモクのブログ" href="https://xfc-exclave.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="python"><link rel="canonical" href="https://xfc-exclave.github.io/computer-science/python/python-all-base/"><title>Python 超级长文全通关 - Python 入门教程 - 计算机科学 | Chinmoku = チンモクのブログ = チンモクのブログ</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Python 超级长文全通关</h1><div class="meta"><span class="item" title="作成日：2021-08-26 17:22:15"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">投稿日</span> <time itemprop="dateCreated datePublished" datetime="2021-08-26T17:22:15+08:00">2021-08-26</time> </span><span class="item" title="単語数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">単語数</span> <span>27k</span> <span class="text">単語</span> </span><span class="item" title="読書の時間"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">読書の時間</span> <span>24 分</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="ナビゲーションバーの切り替え"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Chinmoku</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://reference-1301046789.cos.ap-nanjing.myqcloud.com/blog-img/2b6b017dfde841eaa55c255a3395b836.jpg"></li><li class="item" data-background-image="https://reference-1301046789.cos.ap-nanjing.myqcloud.com/blog-img/6e2816cb882611ebb6edd017c2d2eca2.jpg"></li><li class="item" data-background-image="https://reference-1301046789.cos.ap-nanjing.myqcloud.com/blog-img/bc8a57142a3249059cdcab2e8a252537.jpg"></li><li class="item" data-background-image="https://reference-1301046789.cos.ap-nanjing.myqcloud.com/blog-img/f2ad41c9882c11ebb6edd017c2d2eca2.jpg"></li><li class="item" data-background-image="https://reference-1301046789.cos.ap-nanjing.myqcloud.com/blog-img/4414af009983448587b861cae7048ce9.jpg"></li><li class="item" data-background-image="https://reference-1301046789.cos.ap-nanjing.myqcloud.com/blog-img/795850613fd243a4a76e5136c7d61276.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">ホーム</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="カテゴリ 计算机科学"><span itemprop="name">计算机科学</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/Python%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/" itemprop="item" rel="index" title="カテゴリ Python 入门教程"><span itemprop="name">Python 入门教程</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="ja"><link itemprop="mainEntityOfPage" href="https://xfc-exclave.github.io/computer-science/python/python-all-base/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="チンモク"><meta itemprop="description" content="チンモクのブログ, チンモクのブログ"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="チンモクのブログ"></span><div class="body md" itemprop="articleBody"><div class="note info"><p>最近在工作的项目中，有一个模块的服务是使用 Python 脚本编写的，刚巧最近发现这个脚本有些 bug 而周围同事又都是 Java 体系的，对 Python 不太了解。加上以前了解过，大概知道 Python 的入门是很简单的。所以就干脆花点时间好好地学一下 Python ，预期能够入门并适用到一些简单的工作场景中。</p><p>关于开发语言的热度：<span class="exturl" data-url="aHR0cHM6Ly93d3cudGlvYmUuY29tL3Rpb2JlLWluZGV4">https://www.tiobe.com/tiobe-index</span></p><p>当然，不同开发语言各有优劣，脱离实际需要进行对比也无意义，能适应需要的语言，就是好的语言。</p></div><h3 id="简介"><a class="anchor" href="#简介">#</a> 简介</h3><p>Python 的优点很多，简单的可以总结为以下几点。</p><ol><li>简单和明确，做一件事只有一种方法。</li><li>学习曲线低，跟其他很多语言相比，Python 更容易上手。</li><li>开放源代码，拥有强大的社区和生态圈。</li><li>解释型语言，天生具有平台可移植性。</li><li>支持两种主流的编程范式（面向对象编程和函数式编程）都提供了支持。</li><li>可扩展性和可嵌入性，可以调用 <code>C/C++</code> 代码，也可以在 <code>C/C++</code> 中调用 Python。</li><li>代码规范程度高，可读性强，适合有代码洁癖和强迫症的人群。</li></ol><p>Python 的缺点主要集中在以下几点。</p><ol><li>运行速度慢，和 C 程序相比非常慢，因为 Python 是解释型语言，你的代码在执行时会一行一行地翻译成 CPU 能理解的机器码，这个翻译过程非常耗时，所以很慢。</li><li>代码无法加密，发布出去的 Python 代码都是源代码，这是所有解释型语言的共性。</li><li>在开发时可以选择的框架太多（如 Web 框架就有 100 多个），有选择的地方就有错误。</li></ol><p>目前 Python 在 Web 应用开发、云基础设施、DevOps、网络爬虫开发、数据分析挖掘、机器学习等领域都有着广泛的应用，因此也产生了 Web 后端开发、数据接口开发、自动化运维、自动化测试、科学计算和可视化、数据分析、量化交易、机器人开发、图像识别和处理等一系列的职位。</p><h3 id="安装"><a class="anchor" href="#安装">#</a> 安装</h3><blockquote><p>本文作为学习示例，以 windows 作为学习环境，Python 当前文档版本号： <code>3.9.6</code></p></blockquote><p>官网下载：<span class="exturl" data-url="aHR0cHM6Ly93d3cucHl0aG9uLm9yZw==">https://www.python.org</span></p><p><img data-src="https://img.xfc-exclave.com/2021/08/1d551f6f77ba7c6dfd11272639e424981629963175.png" alt="Python官网首页"></p><p>从官网下载安装文件 <code>python-3.9.6-amd64.exe</code> 并双击执行安装：</p><p><img data-src="https://img.xfc-exclave.com/2021/08/dfa4fe1ca0aa52c76328e36fa6d4a78d1629963181.png" alt="Python安装引导"></p><blockquote><p>注意：安装时请勾选 <code>Add Python *.* to PATH</code> ，它将会为您自动配置环境变量。</p></blockquote><p>检验是否安装成功：</p><p><img data-src="https://img.xfc-exclave.com/2021/08/e21b309abd82d2f79572f8ad2f308cbb1629963192.png" alt="校验Python安装"></p><p>如图所示，则表示 Python 安装成功！</p><h3 id="hello-world"><a class="anchor" href="#hello-world">#</a> Hello World</h3><p>安装成功后，我们将开始学习如何编写第一个 Python 程序。</p><h4 id="命令行模式与-python-交互模式"><a class="anchor" href="#命令行模式与-python-交互模式">#</a> 命令行模式与 Python 交互模式</h4><p>正式编写 Python 程序之前，需要先了解一下什么是命令行模式，什么是 Python 模式。</p><ol><li><p>命令行模式</p><p>命令行模式，即命令提示符，也就是我们常说的 <code>CMD</code> 、小黑框等，它用于执行一些 Windows 命令。</p></li><li><p>Python 交互模式</p><p>在命令行模式下，输入 <code>python</code> ，即可进入 Python 交互模式，它以 <code>&gt;&gt;&gt;</code> 作为提示符。</p><p>在 Python 交互模式下，输入 <code>exit()</code> 或使用快捷键 <code>Ctrl + Z</code> 并回车，即可退出，回到命令行模式。</p><blockquote><p>Python 只是为调试代码提供方便，并非正式运行 Python 代码的环境。</p></blockquote></li></ol><p>尝试在 Python 交互模式下，执行一些简单的指令：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">>></span><span class="token operator">></span> <span class="token number">100</span> + <span class="token number">20</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">120</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">>></span><span class="token operator">></span> print<span class="token punctuation">(</span><span class="token string">'Hello World~'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>Hello World~</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">>></span><span class="token operator">></span> <span class="token number">2</span> ** <span class="token number">10</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">1024</span></pre></td></tr></table></figure><p>在命令行模式下，也可以执行 <code>python hello.py</code> 运行一个 <code>.py</code> 文件。</p><p><code>hello.py</code> 内容示例：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">100</span> <span class="token operator">+</span> <span class="token number">20</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello World~'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>在命令行模式下执行：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>C:<span class="token punctuation">\</span><span class="token operator">></span>python hello.py</pre></td></tr><tr><td data-num="2"></td><td><pre>Hello World~</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">1024</span></pre></td></tr></table></figure><h4 id="选择开发工具"><a class="anchor" href="#选择开发工具">#</a> 选择开发工具</h4><p>在上文中，我们已经能够通过命令行执行一些简单的 Python 指令，但…… 总有点重上幼儿园的感觉。好吧，这不怪我们，怪只怪没有用上趁手的工具。这里提出几款可供选择的 Python 开发工具：</p><ul><li><p>PyCharm（推荐 1）</p><p>下载地址：<span class="exturl" data-url="aHR0cHM6Ly93d3cuamV0YnJhaW5zLmNvbS9weWNoYXJt">https://www.jetbrains.com/pycharm</span></p></li><li><p>Visual Studio Code（推荐 2）</p></li><li><p>Eclipse（不推荐）</p></li></ul><blockquote><p>PyCharm 社区版是免费的，商业版是收费的。我对用过的所有 JetBrains 的产品都欲罢不能，在选择开发工具方面，我个人的首选当然是 PyCharm 啦。</p></blockquote><p>使用 PyCharm 创建一个 Python 项目并运行，如下图所示：</p><p><img data-src="https://img.xfc-exclave.com/2021/08/0868aaf999e563773eb14044b3b6e4be1630046231.png" alt="PyCharm第一个程序"></p><h4 id="输入打印"><a class="anchor" href="#输入打印">#</a> 输入打印</h4><p>在上述示例中，我们反复用到了 <code>print()</code> 这个函数，它的作用就是将内容打印（输出）到控制台。而如果需要从控制台获取用户自定义输入的内容，则需要使用到 <code>input()</code> 函数，使用方式如下：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>name <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'Please input your name: '</span><span class="token punctuation">)</span><span class="token comment"># 开启输入，并提示</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, '</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token comment"># 打印用户输入的内容</span></pre></td></tr></table></figure><blockquote><p>注意，与 Java 不同，Python 每一行代码的结尾部分不需要添加 <code>;</code> 。</p></blockquote><h3 id="python-基础"><a class="anchor" href="#python-基础">#</a> Python 基础</h3><p>Python 的语法比较简单，采用缩进方式，示例代码如下：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># print absolute value of an integer:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a <span class="token operator">=</span> <span class="token number">100</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">if</span> a <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span>a<span class="token punctuation">)</span></pre></td></tr></table></figure><p>Python 语法特点：</p><ol><li><p>关于注释</p><p>Python 以 <code>#</code> 来表示注释，与其他语言一样，注释的作用只是为开发人员提供方便，对程序没有实际意义，解释器（或编译器）会忽略掉注释内容。</p></li><li><p>代码块</p><p>当缩进的语句以冒号 <code>:</code> 结尾时，缩进的语句被视为代码块。</p></li><li><p>缩进</p><p>Python 采用缩进方式组织代码，它对缩进是十分敏感的，但同时，它又并未规定具体的缩进方式，理论上两个或四个空格的缩进方式与一个制表符的缩进方式都是可以的，甚至在很多情况下混合使用也能够正常执行。但缩进作为 Python 语法的一部分，它是需要严谨对待的，编码人员一定要强制要求自己，在书写 Python 代码时，使用 4 个空格作为缩进方式。</p><blockquote><p>注意区分 4 个空格与 1 个 tab 的区别。</p><p>另外，Python 的缩进与 Java 不同，Java 缩进的作用仅仅是为了代码的美观和可读性。</p></blockquote></li><li><p>字母大小写</p><p>和 Java 一样，Python 程序也是大小写敏感的。</p></li></ol><h4 id="数据类型和变量"><a class="anchor" href="#数据类型和变量">#</a> 数据类型和变量</h4><ol><li><p>整数</p><p>Python 可以处理任意大小的整数（包括负整数），如需使用十六进制，则需要以 <code>0x</code> 作为前缀，例如 <code>0xff00</code> 。</p><p>对于较大的数值，为了提高可读性，Python 支持使用下划线来分割位数，例如 <code>10_000_000_000</code> 。</p></li><li><p>浮点数</p><p>浮点数也就是小数，之所以称为浮点数，是因为按照科学记数法表示时，一个浮点数的小数点位置是可变的。浮点数可以用数学写法，例如 <code>3.14</code> 。但是对于很大或很小的浮点数，就必须用科学计数法表示。</p><p>整数和浮点数在计算机内部存储的方式是不同的，整数运算永远是精确的，而浮点数运算则可能会有四舍五入的误差。</p></li><li><p>字符串</p><p>字符串是以英文单引号或双引号括起来的任意文本，引号本身只是一种表示方式，不是字符串的一部分。如果字符串内容本身带有引号，则要进行区分，关于引号的各种情况，可以参照以下代码清单：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'It\'s a nice day!'</span><span class="token punctuation">)</span>  <span class="token comment"># 输出结果：It's a nice day!</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"It's a nice day!"</span><span class="token punctuation">)</span>  <span class="token comment"># 输出结果：It's a nice day!</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"He said: \"It's a nice day!\""</span><span class="token punctuation">)</span>  <span class="token comment"># He said: "It's a nice day!"</span></pre></td></tr></table></figure><p>这里使用到的 <code>\</code> 被称为转义字符，它除了可以对引号进行转义之外，还可以表示换行（ <code>\n</code> ）、制表符（ <code>\t</code> ）以及该字符本身（ <code>\\</code> ）。但是，当字符串中存在较多需要进行转义处理的字符时，Python 还允许使用 <code>r''</code> 来表示引号内部的字符串内容不转义，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">r'\n表示换行'</span> <span class="token operator">+</span> <span class="token string">"\nr''表示引用原字符"</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>但如果字符串内存在多个换行，使用 <code>\n</code> 换行时候，会对阅读造成不便，因此 Python 允许使用 <code>'''...'''</code> 的格式表示多行内容，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token triple-quoted-string string">'''My learning tasks:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Java</pre></td></tr><tr><td data-num="3"></td><td><pre>Python</pre></td></tr><tr><td data-num="4"></td><td><pre>Golang</pre></td></tr><tr><td data-num="5"></td><td><pre>'''<span class="token punctuation">)</span></pre></td></tr></table></figure><p>同样，多行字符 <code>'''...'''</code> 前也可以加上 <code>r</code> 字符结合使用。</p></li><li><p>布尔值</p><p>布尔值和布尔代数的表示完全一致，一个布尔值只有 <code>True</code> 、 <code>False</code> 两种值，要么是 <code>True</code> ，要么是 <code>False</code> ，在 Python 中，可以直接用 <code>True</code> 、 <code>False</code> 表示布尔值（注意大小写），也可以通过布尔运算计算出来：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin">bool</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># False</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">bool</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">)</span>  <span class="token comment"># False</span></pre></td></tr></table></figure><p>布尔值可以使用 <code>and</code> 、 <code>or</code> 和 <code>not</code> 进行运算。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>t1 <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">2</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="2"></td><td><pre>f1 <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">></span> <span class="token number">2</span>  <span class="token comment"># False</span></pre></td></tr><tr><td data-num="3"></td><td><pre>t2 <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">></span> <span class="token number">1</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="4"></td><td><pre>f2 <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">&lt;</span> <span class="token number">1</span>  <span class="token comment"># False</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'and ------->'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>t1 <span class="token keyword">and</span> f1<span class="token punctuation">)</span>  <span class="token comment"># True and False => False</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>t1 <span class="token keyword">and</span> t2<span class="token punctuation">)</span>  <span class="token comment"># True and True => True</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f1 <span class="token keyword">and</span> f2<span class="token punctuation">)</span>  <span class="token comment"># False and False => False</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'or ------->'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>t1 <span class="token keyword">or</span> f1<span class="token punctuation">)</span>  <span class="token comment"># True or False => True</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>t1 <span class="token keyword">or</span> t2<span class="token punctuation">)</span>  <span class="token comment"># True or True => True</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f1 <span class="token keyword">or</span> f2<span class="token punctuation">)</span>  <span class="token comment"># False or False => False</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'not ------->'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token keyword">not</span> t1<span class="token punctuation">)</span>  <span class="token comment"># not True => False</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token keyword">not</span> f1<span class="token punctuation">)</span>  <span class="token comment"># not False => True</span></pre></td></tr></table></figure></li><li><p>空值</p><p>空值是 Python 里一个特殊的值，用 <code>None</code> 表示。</p></li><li><p>变量</p><p>变量名必须是大小写英文、数字和 <code>_</code> 的组合，且不能用数字开头，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>age <span class="token operator">=</span> <span class="token number">20</span>  <span class="token comment"># age 是一个数值型的变量，它的值为 20</span></pre></td></tr><tr><td data-num="2"></td><td><pre>birth_98 <span class="token operator">=</span> <span class="token string">'1998年'</span>  <span class="token comment"># birth_98 是一个字符串类型的变量，它的值为【1998 年】</span></pre></td></tr><tr><td data-num="3"></td><td><pre>MyAnswer <span class="token operator">=</span> <span class="token boolean">True</span>  <span class="token comment"># 布尔型变量...</span></pre></td></tr></table></figure><p>在 Python 中，等号 <code>=</code> 是赋值语句，可以把任意数据类型赋值给变量，同一个变量可以反复赋值，而且可以是不同类型的变量，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>totalPrice <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="2"></td><td><pre>bookPrice <span class="token operator">=</span> <span class="token number">299</span></pre></td></tr><tr><td data-num="3"></td><td><pre>pencilPrice <span class="token operator">=</span> <span class="token number">84</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'この本は　いくらですか？'</span><span class="token punctuation">)</span>  <span class="token comment"># 询问价格</span></pre></td></tr><tr><td data-num="5"></td><td><pre>priceAStr <span class="token operator">=</span> bookPrice<span class="token punctuation">.</span>__str__<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'円です'</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>priceAStr<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>totalPrice <span class="token operator">=</span> totalPrice <span class="token operator">+</span> bookPrice</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'その鉛筆は？'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>pencilPrice<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>totalPrice <span class="token operator">+=</span> pencilPrice  <span class="token comment"># A += B ==> A = A + B</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'全部でいくらですか？'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>totalPrice <span class="token operator">=</span> totalPrice<span class="token punctuation">.</span>__str__<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'円です'</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>totalPrice<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment"># 哈哈，最近在日语入门，有点疯魔，不要介意</span></pre></td></tr></table></figure><p>示例中，变量 totalPrice 被进行了多次赋值，而且可以看到，对于同一变量，可以为其赋予不同类型的值。</p><p>这种变量本身类型不固定的语言称之为动态语言，与之对应的是静态语言。静态语言在定义变量时必须指定变量类型，如果赋值的时候类型不匹配，就会报错。也可以理解为强类型与弱类型，Python 是弱类型的语言。</p><p>和静态语言相比，动态语言更灵活。</p><blockquote><p>注意理解赋值语句与数学上的等号的区别。</p></blockquote></li><li><p>常量</p><p>所谓常量就是不能变的变量，比如常用的数学常数 <code>π</code> 就是一个常量。在 Python 中，通常用全部大写的变量名表示常量：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>PI <span class="token operator">=</span> <span class="token number">3.14159265359</span></pre></td></tr></table></figure><blockquote><p>但其实 Python 中并不存在常量，因为即便是通过大写的方式生命变量名，但它并没有与其他语言的 <code>const</code> 类似的修饰符，它不能保证它所谓的常量不被修改。而使用大写标识常量也只是人为的规定而已，实际上是可以被修改的。简单来说，<ins>Python 中没有常量</ins>。</p></blockquote></li></ol><p><strong>Python 中的除法：</strong></p><p>Python 的除法有两种方式：</p><ol><li><p><code>/</code> 获取浮点数结果。</p><p>这种除法方式的结果始终都是浮点数，不论是否能够被整除。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 3.3333333333333335</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">9</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 3.0</span></pre></td></tr></table></figure></li><li><p><code>//</code> 被称为地板除。</p><p>这种除法会舍去运算结果的小数部分，如果是整数相除，则结果为整数类型，否则，结果为浮点类型，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 3</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">9</span> <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 3</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">9.6</span> <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 3.0</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">9.6</span> <span class="token operator">//</span> <span class="token number">3.2</span><span class="token punctuation">)</span>  <span class="token comment"># 2.0</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">0.0006</span> <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 0.0</span></pre></td></tr></table></figure></li></ol><blockquote><p>注意：和 Java 不同，Python 的整数没有大小限。Python 的浮点数也没有大小限制，但是超出一定范围就直接表示为 <code>inf</code> （无限大）。</p></blockquote><h4 id="字符串和编码"><a class="anchor" href="#字符串和编码">#</a> 字符串和编码</h4><p>在最新的 Python 3 版本中，字符串是以 Unicode 编码的，也就是说，Python 的字符串支持多语言。</p><p>对于单个字符的编码，Python 提供了 <code>ord()</code> 函数获取字符的整数表示， <code>chr()</code> 函数把编码转换为对应的字符，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 65</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'甲'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 30002</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'あ'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 12354</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># A</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">30002</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 甲</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">12354</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># あ</span></pre></td></tr></table></figure><p>另外，你也可以直接使用字符的整数编码，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\u7532\u4e59\u4e19\u4e01'</span><span class="token punctuation">)</span>  <span class="token comment"># 甲乙丙丁</span></pre></td></tr></table></figure><p>关于中文转码，可以使用在线转码工具：<span class="exturl" data-url="aHR0cHM6Ly93d3cuYmVqc29uLmNvbS9jb252ZXJ0L3VuaWNvZGVfY2hpbmVzZQ==">https://www.bejson.com/convert/unicode_chinese</span></p><p>由于 Python 的字符串类型是 <code>str</code> ，在内存中以 Unicode 表示，一个字符对应若干个字节。如果要在网络上传输，或者保存到磁盘上，就需要把 <code>str</code> 变为以字节为单位的 <code>bytes</code> 。</p><p>Python 对 <code>bytes</code> 类型的数据用带 <code>b</code> 前缀的单引号或双引号表示：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>x <span class="token operator">=</span> <span class="token string">b'ABC'</span></pre></td></tr></table></figure><p>以 Unicode 表示的 <code>str</code> 通过 <code>encode()</code> 方法可以编码为指定的 <code>bytes</code> ，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ABC'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># b'ABC'</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># b'\xe4\xb8\xad\xe6\x96\x87'</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 报错，因为 ASCII 无法表示中文</span></pre></td></tr></table></figure><p>反过来，如果需要从磁盘上读取字节流，就需要将 <code>bytes</code> 转换为字符串，这时就需要使用 <code>decode()</code> 方法：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">b'ABC'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ABC</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">b'\xe4\xb8\xad\xe6\x96\x87'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 中文</span></pre></td></tr></table></figure><p>Python 还提供了一个 <code>len()</code> 函数，用于计算字符长度或字节数：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 2</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">b'\xe4\xb8\xad\xe6\x96\x87'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 6</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 6</span></pre></td></tr></table></figure><blockquote><p>在 Unicode 编码中，一个中文字符占用 3 个字节，在字符串操作过程中，如果经常需要对将字符串与字节流进行转换，则需要尽量保持编码的一致性。</p></blockquote><p>我们在保存 Python 源代码时，为了让 Python 解释器在读取源码时按照 UTF-8 的编码读取，我们可以在文件开头位置指定读取的编码方式：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#!/usr/bin/env python3</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># -*- coding: utf-8 -*-</span></pre></td></tr></table></figure><p>字符串的格式化方式：</p><ol><li><p><code>%</code> 占位符格式化</p><p>在 Python 中，也可以对字符串进行格式化，它采用的格式化方式和 C 语言是一致的，用 <code>%</code> 实现，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, %s!'</span> <span class="token operator">%</span> <span class="token string">'World'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'I\'m learning %s! It had took me %d hours yet.'</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token string">'Python'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p><code>%</code> 用于占位和替换，其对应的占位符有四种类型：</p><ol><li><code>%s</code> 表示字符串占位。</li><li><code>%d</code> 表示整数占位。</li><li><code>%f</code> 表示浮点数占位。</li><li><code>%x</code> 表示十六进制整数占位。</li></ol><p>其中，格式化整数和浮点数还可以指定是否补 0 和整数与小数的位数：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%.2f'</span> <span class="token operator">%</span> <span class="token number">3.1415926</span><span class="token punctuation">)</span>  <span class="token comment"># 保留 2 位小数</span></pre></td></tr></table></figure></li><li><p><code>format()</code> 格式化</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, &#123;0&#125;, 成绩提升了 &#123;1:.1f&#125;%'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token number">17.125</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>这种方式相比占位符更加麻烦。</p></li><li><p><code>f-string</code> 格式化</p><p>这种格式化字符串的方法是使用以 <code>f</code> 开头的字符串，称之为 <code>f-string</code> ，它和普通字符串不同之处在于，字符串如果包含 <code>&#123;xxx&#125;</code> ，就会以对应的变量替换：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>r <span class="token operator">=</span> <span class="token number">2.5</span></pre></td></tr><tr><td data-num="2"></td><td><pre>s <span class="token operator">=</span> <span class="token number">3.14</span> <span class="token operator">*</span> r <span class="token operator">**</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'The area of a circle with radius </span><span class="token interpolation"><span class="token punctuation">&#123;</span>r<span class="token punctuation">&#125;</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token punctuation">&#123;</span>s<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">&#125;</span></span><span class="token string">'</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># The area of a circle with radius 2.5 is 19.62</span></pre></td></tr></table></figure></li></ol><h4 id="list-和-tuple"><a class="anchor" href="#list-和-tuple">#</a> list 和 tuple</h4><h5 id="list"><a class="anchor" href="#list">#</a> list</h5><p>list（列表）是 Python 内置的一种数据类型，它是一种有序的集合，可以随时添加和删除其中的元素。</p><p>使用 <code>len()</code> 函数则可以获取到集合的大小。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>language <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Zh-CN'</span><span class="token punctuation">,</span> <span class="token string">'En'</span><span class="token punctuation">,</span> <span class="token string">'Ja'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 3</span></pre></td></tr></table></figure><p>Python 中的列表概念 Java 基本一样，都是一个有序的列表，都是以 0 作为起始索引，所以超出范围会报越界错误。</p><p>我们可以向列表中插入追加数据，数据会默认追加到最后位置。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>language <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Zh-CN'</span><span class="token punctuation">,</span> <span class="token string">'En'</span><span class="token punctuation">,</span> <span class="token string">'Ja'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>language<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'Zh-TW'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span>  <span class="token comment"># ['Zh-CN', 'En', 'Ja', 'Zh-TW']</span></pre></td></tr></table></figure><p>当然，也可以将新的数据插入到指定的下标位置，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>language <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Zh-CN'</span><span class="token punctuation">,</span> <span class="token string">'En'</span><span class="token punctuation">,</span> <span class="token string">'Ja'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>language<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Zh-TW'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span>  <span class="token comment"># ['Zh-CN', 'Zh-TW', 'En', 'Ja']</span></pre></td></tr></table></figure><p>删除列表中的元素，需要使用 <code>pop()</code> ，如下：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>language <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Zh-CN'</span><span class="token punctuation">,</span> <span class="token string">'Zh-TW'</span><span class="token punctuation">,</span> <span class="token string">'Ko'</span><span class="token punctuation">,</span> <span class="token string">'En'</span><span class="token punctuation">,</span> <span class="token string">'Ja'</span><span class="token punctuation">,</span> <span class="token string">'Fran'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>language<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 不指定 pop () 函数的参数，则删除最后一个元素</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>language<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 删除指定下标位置的元素</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span>  <span class="token comment"># ['Zh-CN', 'Zh-TW', 'En', 'Ja']</span></pre></td></tr></table></figure><p>替换元素：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>language <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Zh-CN'</span><span class="token punctuation">,</span> <span class="token string">'En'</span><span class="token punctuation">,</span> <span class="token string">'Ja'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>language<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Zh-TW'</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span>  <span class="token comment"># ['Zh-TW', 'En', 'Ja']</span></pre></td></tr></table></figure><p>列表中元素的数据类型并不一定要保持一致，如果数组列表中包含有列表类型的元素，则被称为多维数组。</p><h5 id="tuple"><a class="anchor" href="#tuple">#</a> tuple</h5><p>tuple（元组）是另一种有序列表，它和 list 非常相似，但 tuple 一旦初始化就不能修改。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>language <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'Zh-CN'</span><span class="token punctuation">,</span> <span class="token string">'En'</span><span class="token punctuation">,</span> <span class="token string">'Ja'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>language<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Zh-TW'</span>  <span class="token comment"># 报错：'tuple' object does not support item assignment</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span></pre></td></tr></table></figure><p>元组列表没有提供 <code>append()</code> 和 <code>insert()</code> 类似的方法。</p><p>因为 tuple 初始化后是不可改变的，因而更具有安全性。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>tupleA <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 定义一个空的 tuple</span></pre></td></tr><tr><td data-num="2"></td><td><pre>tupleB <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">)</span>  <span class="token comment"># 当 tuple 内只有一个元素时，也需要添加逗号，以避免和数学公式符号混淆</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>tupleB<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 1</span></pre></td></tr></table></figure><p>可变的 tuple ？</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>t <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>t<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'X'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>t<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Y'</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>  <span class="token comment"># ('a', 'b', ['X', 'Y'])</span></pre></td></tr></table></figure><p>这里的可变并不是真正的可变，这里变化的只是 tuple 内部的 list 元素，而 tuple 本身的指针指向并没有变。</p><h4 id="条件判断"><a class="anchor" href="#条件判断">#</a> 条件判断</h4><p>Python 使用 <code>if-elif-else</code> 作为条件判断的语法结构，其中 <code>elif</code> 其实是 <code>else if</code> 的缩写，该语法的完整形式的使用如下：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>condition <span class="token operator">=</span> <span class="token string">'A'</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">if</span> condition<span class="token punctuation">.</span>__eq__<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'do A'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">elif</span> condition<span class="token punctuation">.</span>__eq__<span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'do B'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">elif</span> condition<span class="token punctuation">.</span>__eq__<span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'do C'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'do D'</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p><code>if</code> 判断条件不一定要求是布尔类型或布尔类型的表达式，也可以是一些其他的数据类型，如果这些数据类型是非零数值、非空字符串、非空数组等，条件判断则为 <code>True</code> ，否则为 <code>False</code> ，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'Please input and enter to judge true or false: '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span> <span class="token builtin">str</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Your input is: '</span> <span class="token operator">+</span> <span class="token builtin">str</span> <span class="token operator">+</span> <span class="token string">', it\'s true'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Your input is: '</span> <span class="token operator">+</span> <span class="token builtin">str</span> <span class="token operator">+</span> <span class="token string">', it\'s false'</span><span class="token punctuation">)</span></pre></td></tr></table></figure><blockquote><p>通过输入不同内容，即可判断该输入内容是否为 True ，可以在您的开发工具中尝试一下，并观察返回结果。但同时，请注意，通过 <code>input()</code> 获取到的用户输入的所有内容都是字符串类型。</p></blockquote><p>如需要将字符串内容转换为数值型，可以使用 <code>int()</code> 函数。</p><h4 id="循环"><a class="anchor" href="#循环">#</a> 循环</h4><p>Python 中有两种循环方式：</p><ol><li><p><code>for...in</code></p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>total <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="2"></td><td><pre>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">for</span> num <span class="token keyword">in</span> arr<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    total <span class="token operator">+=</span> num</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>total<span class="token punctuation">)</span></pre></td></tr></table></figure><p>Python 也提供了一个 <code>range()</code> 方法用于生成整数序列，而通过 <code>list()</code> 方法可以将整数序列转换为数组，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">'| '</span></pre></td></tr><tr><td data-num="2"></td><td><pre>arr <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">for</span> num <span class="token keyword">in</span> arr<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token builtin">str</span> <span class="token operator">+=</span> num<span class="token punctuation">.</span>__str__<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' | '</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>  <span class="token comment"># | 0 | 1 | 2 | 3 | 4 |</span></pre></td></tr></table></figure><blockquote><p><code>range()</code> 函数有两个参数，一个是起始值，一个是终止值，当起始为 0 时，可以省略不写。</p></blockquote></li><li><p><code>while</code></p><p>对于 while 循环，只要条件满足，就不断循环，条件不满足时退出循环。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 计算 100 以内所有奇数之和</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>n <span class="token operator">=</span> <span class="token number">99</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">while</span> n <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token builtin">sum</span> <span class="token operator">+=</span> n</pre></td></tr><tr><td data-num="6"></td><td><pre>    n <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li></ol><p><code>break</code> 和 <code>continue</code> ：</p><ol><li><p><code>break</code></p><p>在循环中， <code>break</code> 语句可以提前退出循环。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 获取大于 100 的最小立方数</span></pre></td></tr><tr><td data-num="2"></td><td><pre>result <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>n <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    n <span class="token operator">+=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    result <span class="token operator">=</span> n <span class="token operator">*</span> n <span class="token operator">*</span> n</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">if</span> result <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">break</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment"># 125</span></pre></td></tr></table></figure></li><li><p><code>continue</code></p><p>在循环过程中，也可以通过 <code>continue</code> 语句，跳过当前的这次循环，直接开始下一次循环。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 获取 100 以内所有奇数的总和</span></pre></td></tr><tr><td data-num="2"></td><td><pre>total <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>n <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">while</span> n <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    n <span class="token operator">+=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">continue</span>  <span class="token comment"># 当条件满足时，进入下一次循环</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    total <span class="token operator">+=</span> n</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>total<span class="token punctuation">)</span>  <span class="token comment"># 2500</span></pre></td></tr></table></figure></li></ol><blockquote><p><code>break</code> 和 <code>continue</code> 的区别在于，前者是直接跳出整个循环结构，而后者当前正在循环的某一轮，可以理解为跳过当前循环，继续下一次。另外， <code>break</code> 往往适用于从众多数据中找到某一个符合特定条件的数据，而 <code>continue</code> 则适用于从众多数据中找到某一系列符合条件的数据。</p><p>注意：由于逻辑不够完善，或循环和跳出语句使用不当，可能会出现死循环的情况，就需要终止当前程序并检查代码逻辑。（在终端可使用 <code>Ctrl + C</code> 终止程序）</p></blockquote><h4 id="dict-和-set"><a class="anchor" href="#dict-和-set">#</a> dict 和 set</h4><h5 id="dict"><a class="anchor" href="#dict">#</a> dict</h5><p>Python 内置了字典（在其他语言中也称为 <code>map</code> ），它使用 <code>key-value</code> （键值对）的方式存储，具有极快的查找速度。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>data <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'dataA'</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'dataB'</span><span class="token punctuation">:</span> <span class="token number">73</span><span class="token punctuation">,</span> <span class="token string">'dataC'</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'dataB'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 73</span></pre></td></tr></table></figure><p>也可以对 dict 中的值进行添加、修改或移除等操作：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>data <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'dataA'</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'dataB'</span><span class="token punctuation">:</span> <span class="token number">73</span><span class="token punctuation">,</span> <span class="token string">'dataC'</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 计算 dict 元素个数</span></pre></td></tr><tr><td data-num="3"></td><td><pre>data<span class="token punctuation">[</span><span class="token string">'dataB'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">54</span>  <span class="token comment"># 根据 key 值修改 dict 中的元素</span></pre></td></tr><tr><td data-num="4"></td><td><pre>data<span class="token punctuation">[</span><span class="token string">'dataD'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">108</span>  <span class="token comment"># 向 dict 中添加元素</span></pre></td></tr><tr><td data-num="5"></td><td><pre>data<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'dataA'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>  <span class="token comment"># &#123;'dataB': 54, 'dataC': -7, 'dataD': 108&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># dict 的遍历</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">for</span> key <span class="token keyword">in</span> data<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>data<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 清空 dict</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>  <span class="token comment"># &#123;&#125;</span></pre></td></tr></table></figure><p>但是，在根据 key 从 dict 中获取值时，可能会出现 key 不存在的情况，这时就会引起程序报错，我们可以通过如下方式避免：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>data <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'dataA'</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'dataB'</span><span class="token punctuation">:</span> <span class="token number">73</span><span class="token punctuation">,</span> <span class="token string">'dataC'</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 方式一：判断要查询的 key 是否存在</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">if</span> <span class="token string">'dataD'</span> <span class="token keyword">in</span> data<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'dataD'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 方式二：推荐</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'dataD'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 未查询到时，返回 None</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'dataD'</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 未查询到时，指定返回内容（这里是 - 1）</span></pre></td></tr></table></figure><blockquote><p>注意：在 Python 交互环境中，返回值为 None 是不会输出到控制台的，另外， dict 内部元素的存放顺序和 key 放入的顺序无关。</p></blockquote><p>dict 和 list 比较：</p><ol><li>对于查找和插入，dict 处理极快，不会随着 key 的增加而变慢，而 list 则会因为元素的不断增加变慢。</li><li>对于内存占用而言，dict 由于要存储键值对，占用内存较多，而 list 则占用很少。</li></ol><p>所以，list 的优势在于空间占用少，而 dict 的优势在于时间消耗少。</p><p>此外，由于 dict 是通过 key 来计算 value 的存储位置，所以程序需要保证 key 的对象的不可变性，这种不可变性，需要通过<ins>哈希算法</ins>进行保证。在 Python 中，字符串和整数都是不可变的，可以作为 dict 的 key 使用，但 list 却是可变的，不应当作为 key 使用。</p><h5 id="set"><a class="anchor" href="#set">#</a> set</h5><p>set 和 dict 类似，也是一组 key 的集合，但是 set 中不存储 value，由于 key 是不可重复的，所以 set 中不存在重复的数据。</p><p>要创建一个 set，需要先提供一个 list 作为输入集合：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>s1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span>  <span class="token comment"># 直接声明 set，重复值时无效的</span></pre></td></tr><tr><td data-num="2"></td><td><pre>s1<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># 向 set 中添加元素</span></pre></td></tr><tr><td data-num="3"></td><td><pre>s1<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 如果添加元素已存在，不会引起报错，但也不会重复添加</span></pre></td></tr><tr><td data-num="4"></td><td><pre>s1<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 移除 set 中某个元素</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>  <span class="token comment"># &#123;1, 3, 4&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 计算元素个数</span></pre></td></tr><tr><td data-num="7"></td><td><pre>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="8"></td><td><pre>s2 <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span>  <span class="token comment"># 将 list 转为 set</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span>  <span class="token comment"># &#123;1, 2, 3&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>s1<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 清空 set</span></pre></td></tr></table></figure><p>set 无序不重复的元素集合，它可以做数学意义上的交集、并集处理：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>s1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>s2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 交集</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>s1 <span class="token operator">&amp;</span> s2<span class="token punctuation">)</span>  <span class="token comment"># &#123;2, 4&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 并集</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>s1 <span class="token operator">|</span> s2<span class="token punctuation">)</span>  <span class="token comment"># &#123;1, 2, 3, 4, 6, 8&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># set 中存放 list 会导致报错</span></pre></td></tr><tr><td data-num="8"></td><td><pre>s3 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span>  <span class="token comment"># 报错：TypeError: unhashable type: 'list'</span></pre></td></tr></table></figure><blockquote><p>set 中存放 list 作为元素会引起报错，其原理和 dict 是一样的。</p></blockquote><h3 id="函数"><a class="anchor" href="#函数">#</a> 函数</h3><p>Python 内置了很多有用的函数，我们可以直接调用，例如在上文中频繁使用到的 <code>len()</code> 。</p><h4 id="调用函数"><a class="anchor" href="#调用函数">#</a> 调用函数</h4><p>要调用一个函数，需要知道函数的名称和参数，而且需要保证参数的类型及顺序的一致，否则就会引起程序错误。</p><p>也有一些函数可以接收任意多个参数。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">13.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 13.2</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 33</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 类型转换函数</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'15'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 15</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'2.18'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 2.18</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token number">1.62</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 1.62</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False</span></pre></td></tr></table></figure><p>函数名其实就是指向一个函数对象的引用，完全可以把函数名赋给一个变量，相当于给这个函数起了一个别名：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> <span class="token builtin">abs</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 6</span></pre></td></tr></table></figure><h4 id="定义函数"><a class="anchor" href="#定义函数">#</a> 定义函数</h4><p>在 Python 中，定义一个函数要使用 <code>def</code> 语句，依次写出函数名、括号、括号中的参数和冒号 <code>:</code> ，然后，在缩进块中编写函数体，函数的返回值用 <code>return</code> 语句返回（无返回值不写即可）。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">division</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">return</span>  <span class="token comment"># return None 可以直接简写为 return</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> m <span class="token operator">/</span> n</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>division<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 2.5</span></pre></td></tr></table></figure><p>当暂未想好如何定义函数的实现时，可以定义一个空函数，它的目的是进行占位，当想好函数的实现内容时在填充即可。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>i <span class="token operator">=</span> <span class="token number">1001</span></pre></td></tr><tr><td data-num="2"></td><td><pre>u <span class="token operator">=</span> <span class="token number">1005</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">if</span> i <span class="token operator">==</span> u<span class="token punctuation">:</span>  <span class="token comment"># if I were You</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">pass</span>  <span class="token comment"># I would ...  # if 内容暂未确定，但留空又会报错</span></pre></td></tr><tr><td data-num="9"></td><td><pre>say<span class="token punctuation">(</span><span class="token string">'Anyway!!!'</span><span class="token punctuation">)</span>  <span class="token comment"># but I'm not, so, >>></span></pre></td></tr></table></figure><p>调用函数时，如果参数个数不对，Python 解释器会自动检查出来，并抛出 <code>TypeError</code> 错误，但是如果参数类型不对，Python 解释器就无法帮我们检查。</p><blockquote><p>但是现在的 IDE 工具很智能了，PyCharm 在代码编写时就可以帮助我们规避很多错误，例如参数检查。</p></blockquote><p>因此，我们定义函数的时候，可以进行参数类型检查：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">division</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">'您传入的除数必须是数值型'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">'您传入的被除数必须是整数'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">return</span> m <span class="token operator">/</span> n</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>division<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">4.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 抛出【您传入的被除数必须是整数】错误</span></pre></td></tr></table></figure><p>Python 函数也可以返回多个值：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">maxAndMin</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token builtin">max</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token builtin">min</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">for</span> item <span class="token keyword">in</span> arr<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">if</span> item <span class="token operator">></span> <span class="token builtin">max</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token builtin">max</span> <span class="token operator">=</span> item</pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">if</span> item <span class="token operator">&lt;</span> <span class="token builtin">min</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token builtin">min</span> <span class="token operator">=</span> item</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">return</span> <span class="token builtin">max</span><span class="token punctuation">,</span> <span class="token builtin">min</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token builtin">max</span><span class="token punctuation">,</span> <span class="token builtin">min</span> <span class="token operator">=</span> maxAndMin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'max = '</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">)</span>  <span class="token comment"># max =  53</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'min = '</span><span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">)</span>  <span class="token comment"># min =  -1</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>maxAndMin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># (53, -1)</span></pre></td></tr></table></figure><blockquote><p>从示例中可以看到，Python 函数返回多个值其实是一种假象，它返回多个值，其实本质上是返回一个 tuple 。</p></blockquote><p>尝试定义一个函数 <code>quadratic(a, b, c)</code> 来求出一元二次方程的解，公式定义：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi>b</mi><mi>x</mi><mo>+</mo><mi>c</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">ax^2 + bx + c = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.897438em;vertical-align:-.08333em"></span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.77777em;vertical-align:-.08333em"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span></p><blockquote><p>提示：</p><ol><li><p>一元二次方程的求根公式为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.15999999999999992em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>=</mo><mfrac><mrow><mo>−</mo><mi>b</mi><mo>±</mo><msqrt><mrow><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi></mrow></msqrt></mrow><mrow><mn>2</mn><mi>a</mi></mrow></mfrac></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin {array}{c} x = \frac{-b±\sqrt {b^2-4ac}}{2a} \end {array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3994820000000001em;vertical-align:-.449741em"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9497410000000002em"><span style="top:-2.949741em"><span class="pstrut" style="height:3.039482em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.039482em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">a</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.3939999999999997em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">b</span><span class="mbin mtight">±</span><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9221171428571429em"><span class="svg-align" style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mtight" style="padding-left:.833em"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.7463142857142857em"><span style="top:-2.786em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">4</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">c</span></span></span><span style="top:-2.882117142857143em"><span class="pstrut" style="height:3em"></span><span class="hide-tail mtight" style="min-width:.853em;height:1.08em"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.11788285714285718em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.449741em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span></span></span></span></span></span></span></p></li><li><p>计算平方根可以调用 <code>math.sqrt()</code> 函数。</p></li></ol></blockquote><p>使用下面的代码来尝试一下吧：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> math</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">quadratic</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">pass</span>  <span class="token comment"># 在这里写入你的代码逻辑</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>a <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'Input parameter a: '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>b <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'Input parameter b: '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>c <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'Input parameter c: '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    a <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    b <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    c <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">except</span> ValueError<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'参数错误：请传入数值类型的参数'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Get result = '</span> <span class="token operator">+</span> quadratic<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">.</span>__str__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><details><summary>点击这里查看参考答案。</summary><div><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> math</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">quadratic</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    x1 <span class="token operator">=</span> <span class="token boolean">None</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    x2 <span class="token operator">=</span> <span class="token boolean">None</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment"># 1. 参数校验</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">if</span> a <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'参数错误：一元二次方程的a值不能为0'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">return</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment"># 2. 判断有多少个解</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    d <span class="token operator">=</span> b <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">*</span> a <span class="token operator">*</span> c</pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">if</span> d <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>  <span class="token comment"># 该方程只有一个解，或两个解相同</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'该一元二次方程没有【无解】'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">elif</span> d <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        x1 <span class="token operator">=</span> b <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span> <span class="token operator">*</span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        x2 <span class="token operator">=</span> x1</pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">:</span>  <span class="token comment"># 该方程有两个解</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        x1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>b <span class="token operator">+</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        x2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>b <span class="token operator">-</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">return</span> x1<span class="token punctuation">,</span> x2</pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>a <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'Input parameter a: '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>b <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'Input parameter b: '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>c <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'Input parameter c: '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    a <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    b <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    c <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">except</span> ValueError<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'参数错误：请传入数值类型的参数'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Get result = '</span> <span class="token operator">+</span> quadratic<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">.</span>__str__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><blockquote><p>可以尝试输入一些下面这几组参数进行验证：</p><p>1, 2, -3 -&gt; (1.0, -3.0)</p><p>4, 6, 0 -&gt; (0.0, -1.5)</p><p>1, 4, 4 -&gt; (-2.0, -2.0)</p></blockquote></div></details><h4 id="函数的参数"><a class="anchor" href="#函数的参数">#</a> 函数的参数</h4><ol><li><p>位置参数</p><p>在前文中，我们已经多次使用到位置参数，所谓位置参数，就是在调用函数时，指定的实际参数的数量，必须和形式参数的数量保持一致，否则就会抛出 <code>TypeError</code> 异常。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">power</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    s <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">while</span> n <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        s <span class="token operator">*=</span> x</pre></td></tr><tr><td data-num="5"></td><td><pre>        n <span class="token operator">-=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">return</span> s</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>power<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>默认参数</p><p>默认参数是指当函数调用方不传递时，函数指定参数具有一个默认的值。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">power</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 次方数默认为 2</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    s <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">while</span> n <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        s <span class="token operator">*=</span> x</pre></td></tr><tr><td data-num="5"></td><td><pre>        n <span class="token operator">-=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">return</span> s</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>power<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>使用默认参数需要记住以下原则：</p><ul><li><p>位置参数放前，默认参数放后。</p></li><li><p>确定性大的参数放前，确定性小的参数放后。</p></li><li><p>调用的函数需要传递默认参数，但参数位置不匹配时，需要指定参数名。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> school<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span> gender<span class="token operator">=</span><span class="token string">'Male'</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>a <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="5"></td><td><pre>test<span class="token punctuation">(</span><span class="token string">'Susan'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> gender<span class="token operator">=</span><span class="token string">'Female'</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>默认参数必须指向不变对象【坑点】。</p><p>例如，当默认参数定义为数组时，将出现如下情况：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">add_end</span><span class="token punctuation">(</span>l<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    l<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'END'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span> l</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>add_end<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [1, 2, 3, 'END']</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>add_end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ['END']</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>add_end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ['END', 'END']</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>add_end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ['END', 'END', 'END']</span></pre></td></tr></table></figure><p>这是因为默认参数指定为 list 时，指定的其实只是一个指针，当我们每次使用默认参数，使用的都是指针对应的值，多次调用就会反复修改 list 指针对应的值，导致多重拼接。</p><blockquote><p>要理解这一点，请务必理解可变对象和不可变对象。（在 Java 语言中，被称为值类型和引用类型）</p></blockquote></li></ul></li><li><p>可变参数</p><p>可变参数，即参数的个数是可以变化的，可以传入任意多个参数（包括 0 个）。定义函数可变参数的方式如下：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">*</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">for</span> num <span class="token keyword">in</span> nums<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token builtin">sum</span> <span class="token operator">+=</span> num</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> <span class="token builtin">sum</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 42</span></pre></td></tr></table></figure><p>可变参数接收到的是一个 tuple 类型。</p><p>如果调用函数时，某一个参数本身即是 tuple 类型的参数，为了区分可变参数与参数的 tuple 类型参数，可以使用如下方式调用函数：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">*</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">for</span> num <span class="token keyword">in</span> nums<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token builtin">sum</span> <span class="token operator">+=</span> num</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> <span class="token builtin">sum</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token operator">*</span>nums<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 50</span></pre></td></tr></table></figure><blockquote><p>这里是将 tuple 转换为可变参数，再传入到函数中。</p></blockquote></li><li><p>关键字参数</p><p>关键字参数允许传入任意多个参数，这些关键字参数在函数内部会自动组装成一个 dict 。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name:'</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">'age:'</span><span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token string">'extra:'</span><span class="token punctuation">,</span> kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>person<span class="token punctuation">(</span><span class="token string">'Lily'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> city<span class="token operator">=</span><span class="token string">'Shanghai'</span><span class="token punctuation">,</span> job<span class="token operator">=</span><span class="token string">'teacher'</span><span class="token punctuation">)</span>  <span class="token comment"># name: Lily age: 24 extra: &#123;'city': 'Shanghai', 'job': 'teacher'&#125;</span></pre></td></tr></table></figure><p>关键字参数可以扩展函数的功能，函数调用方可以根据情况自由选择是否传递某些参数字段，上面的函数也可以做如下简化：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name:'</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">'age:'</span><span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token string">'extra:'</span><span class="token punctuation">,</span> kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>extra <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'city'</span><span class="token punctuation">:</span> <span class="token string">'Shanghai'</span><span class="token punctuation">,</span> <span class="token string">'job'</span><span class="token punctuation">:</span> <span class="token string">'teacher'</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>person<span class="token punctuation">(</span><span class="token string">'Lily'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token operator">**</span>extra<span class="token punctuation">)</span></pre></td></tr></table></figure><blockquote><p>注意：函数内的关键字参数只是传入实际参数的一份拷贝，对它进行改动并不会影响到函数调用方的变量。</p></blockquote></li><li><p>命名关键字参数</p><p>对于关键字参数，调用方对参数名称可以任意指定，但如需进行参数名称限制，我们可以进行如下声明：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> city<span class="token punctuation">,</span> job<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name:'</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">'age:'</span><span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token string">'city:'</span><span class="token punctuation">,</span> city<span class="token punctuation">,</span> <span class="token string">'job:'</span><span class="token punctuation">,</span> job<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>extra <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'city'</span><span class="token punctuation">:</span> <span class="token string">'Shanghai'</span><span class="token punctuation">,</span> <span class="token string">'job'</span><span class="token punctuation">:</span> <span class="token string">'teacher'</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>person<span class="token punctuation">(</span><span class="token string">'Lily'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token operator">**</span>extra<span class="token punctuation">)</span></pre></td></tr></table></figure><p>这种通过 <code>*</code> 分隔被命名的关键字参数，可以实现对参数命名的限制，但通过这种方式传递参数时，调用方必须传递所有关键字参数（除非关键字参数中使用了默认参数），否则会引起报错。</p><p>另外，当函数中已经定义了一个可变参数，那么，这个函数中的可变参数前就不再需要使用 <code>*</code> 分隔符了，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> city<span class="token operator">=</span><span class="token string">'Taiyuan'</span><span class="token punctuation">,</span> job<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr></table></figure></li><li><p>参数组合</p><p>在 Python 中定义函数，可以用必选参数、默认参数、可变参数、关键字参数和命名关键字参数，这 5 种参数都可以组合使用。但是请注意，参数定义的顺序必须是：必选参数、默认参数、可变参数、命名关键字参数和关键字参数，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> school<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'a ='</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token string">'b ='</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token string">'c ='</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> <span class="token string">'args ='</span><span class="token punctuation">,</span> args<span class="token punctuation">,</span> school<span class="token punctuation">,</span> <span class="token string">'kw ='</span><span class="token punctuation">,</span> kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>f1<span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token string">'nanjing'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> school<span class="token operator">=</span><span class="token string">'NanJin University'</span><span class="token punctuation">,</span> email<span class="token operator">=</span><span class="token string">'abc@q.com'</span><span class="token punctuation">,</span> phone<span class="token operator">=</span><span class="token string">'15625376'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># a = zhangsan b = nanjing c = 5 args = (12, 33) NanJin University kw = &#123;'email': 'abc@q.com', 'phone': '15625376'&#125;</span></pre></td></tr></table></figure><blockquote><p>但是，由于多种类型的组合参数可读性并不太高，不推荐同时使用较多种类型的参数进行组合。</p></blockquote></li></ol><h4 id="递归函数"><a class="anchor" href="#递归函数">#</a> 递归函数</h4><p>在函数内部，可以调用其他函数。如果一个函数在内部调用自身本身，这个函数就是递归函数，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 阶乘</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">fact</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">return</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> n <span class="token operator">*</span> fact<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>fact<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 120</span></pre></td></tr></table></figure><p>递归函数的优点是定义简单，逻辑清晰。理论上，所有的递归函数都可以写成循环的方式，但循环的逻辑不如递归清晰。</p><p>使用递归函数需要注意防止栈溢出。在计算机中，函数调用是通过栈（stack）这种数据结构实现的，每当进入一个函数调用，栈就会加一层栈帧，每当函数返回，栈就会减一层栈帧。由于栈的大小不是无限的，所以，递归调用的次数过多，会导致栈溢出。（例如在示例中调用 <code>fact(1000)</code> ）</p><p>解决递归调用栈溢出的方法是通过<strong>尾递归</strong>优化，事实上尾递归和循环的效果是一样的，所以，把循环看成是一种特殊的尾递归函数也是可以的。</p><blockquote><p>对于 Python 而言，因为其解释器并未对尾递归做优化，所以，Python 使用尾递归方式也不能解决栈溢出的问题。</p></blockquote><p>尾递归是指，在函数返回的时候，调用自身本身，并且，return 语句不能包含表达式。这样，编译器或者解释器就可以把尾递归做优化，使递归本身无论调用多少次，都只占用一个栈帧，不会出现栈溢出的情况。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 尾递归阶乘</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">fact</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span> fact_iter<span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">def</span> <span class="token function">fact_iter</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> product<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">if</span> num <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span> product</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">return</span> fact_iter<span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> num <span class="token operator">*</span> product<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>fact<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 120</span></pre></td></tr></table></figure><p>两者的区别在于：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 递归方式：</span></pre></td></tr><tr><td data-num="2"></td><td><pre>fact<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">3</span> <span class="token operator">*</span> fact<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">3</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> fact<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">3</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">3</span> <span class="token operator">*</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token number">6</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># 尾递归方式：</span></pre></td></tr><tr><td data-num="9"></td><td><pre>fact_iter<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>fact_iter<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>fact_iter<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token number">6</span></pre></td></tr></table></figure><h3 id="高级特性"><a class="anchor" href="#高级特性">#</a> 高级特性</h3><h4 id="切片"><a class="anchor" href="#切片">#</a> 切片</h4><p>在 Python 中，可以通过切片截取数组中任意任意位置的元素。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    arr<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [0, 1, 2]</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [0, 1, 2]</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [10, 11, 12, 13]</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [99] # 倒数第一个元素</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [96, 97, 98]</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [96, 97, 98, 99] # 倒数四个参数</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># []</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [0, 2, 4, 6, 8] # 前 10 个数中，每 3 个数取一个</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 拷贝原数组</span></pre></td></tr></table></figure><blockquote><p>倒数第一个元素的索引是 -1。</p></blockquote><p>字符串和 tuple 也是看做是一种 list ，因此它们同样支持切片操作：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># (0, 1, 2)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'PYTHON'</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># PYT</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'PYTHON'</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># PTO</span></pre></td></tr></table></figure><p>在很多编程语言中，针对字符串提供了很多各种截取函数（例如，substring），其实目的就是对字符串切片。Python 没有针对字符串的截取函数，但可以直接使用切片方式实现。</p><h4 id="迭代"><a class="anchor" href="#迭代">#</a> 迭代</h4><p>对于一个 list 或 tuple ，我们可以通过循环来进行遍历，这种遍历被称为迭代。</p><p>在 Python 中，迭代是通过 <code>for ... in</code> 来完成的，它既可以迭代一个 list 和 tuple ，也可以迭代字符串。</p><p>而且在 Python 中，程序只需要关注对象是否可迭代，而不需要关注迭代对象的类型，判断对象是否可迭代：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> collections<span class="token punctuation">.</span>abc <span class="token keyword">import</span> Iterable</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False # 整数不可迭代</span></pre></td></tr></table></figure><p>另外，Python 也内置了一个 <code>enumerate</code> 函数，可以将 list 变为一个 <code>索引-元素</code> 对，这样就可以在 <code>for</code> 循环中同时迭代索引和元素本身：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> v<span class="token punctuation">)</span></pre></td></tr></table></figure><p>Python 也可以同时遍历多个内部元素，但需要注意个数需要完全匹配，否则会报错：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">for</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token comment"># ValueError: not enough values to unpack</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span></pre></td></tr></table></figure><h4 id="列表生成式"><a class="anchor" href="#列表生成式">#</a> 列表生成式</h4><p>列表生成式即 <code>List Comprehensions</code> ，是 Python 内置的非常简单却强大的可以用来创建 list 的生成式。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span></pre></td></tr></table></figure><p>for 循环后面还可以加上条件判断：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [4, 16, 36, 64, 100]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x <span class="token operator">*</span> <span class="token number">2</span> <span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">5</span> <span class="token keyword">else</span> x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [4, 16, 12, 16, 20]</span></pre></td></tr></table></figure><blockquote><p>注意：在列表生成式中， for 后面的条件判断的作用是进行筛选，所以不能带有 <code>elif</code> 或 <code>else</code> 判断。而 for 前面也可以使用 <code>if</code> 语句，但如果是在 for 前面添加条件判断，它的作用则是作为一个表达式，这时它必须有 <code>else</code> 语句，以便能够保证所有的情况都得到处理。</p><p>在一个列表生成式中， <code>for</code> 前面的 <code>if ... else</code> 是表达式，而 <code>for</code> 后面的 <code>if</code> 是过滤条件，不能带 <code>else</code> 。</p></blockquote><p>还可以使用多个 for 循环生成全排列：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c <span class="token keyword">for</span> a <span class="token keyword">in</span> <span class="token string">'BC'</span> <span class="token keyword">for</span> b <span class="token keyword">in</span> <span class="token string">'12'</span> <span class="token keyword">for</span> c <span class="token keyword">in</span> <span class="token string">'あう'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># ['B1 あ ', 'B1 う ', 'B2 あ ', 'B2 う ', 'C1 あ ', 'C1 う ', 'C2 あ ', 'C2 う ']</span></pre></td></tr></table></figure><p>运用列表生成式，可以写出非常简洁的代码。例如，列出当前目录下的所有文件和目录名：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> os</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>d <span class="token keyword">for</span> d <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># ['.idea', 'main.py', 'venv']</span></pre></td></tr></table></figure><p>for 循环其实可以同时使用两个甚至多个变量，比如 dict 的 items () 可以同时迭代 key 和 value：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>d <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'x'</span><span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">:</span> <span class="token string">'C'</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token string">'='</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>k <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># ['x=A', 'y=B', 'z=C']</span></pre></td></tr></table></figure><p>另外，还可以对字符串进行处理，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">,</span> <span class="token string">'IBM'</span><span class="token punctuation">,</span> <span class="token string">'Apple'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>s<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> s <span class="token keyword">in</span> L<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># ['hello', 'world', 'ibm', 'apple']</span></pre></td></tr></table></figure><h4 id="生成器"><a class="anchor" href="#生成器">#</a> 生成器</h4><p>通过列表生成式，我们可以直接创建一个列表。但是，受到内存限制，列表容量肯定是有限的。而且，创建一个包含 100 万个元素的列表，不仅占用很大的存储空间，如果我们仅仅需要访问前面几个元素，那后面绝大多数元素占用的空间都白白浪费了。</p><p>但如果列表元素可以按照某种算法推算出来，那我们就可以在循环的过程中不断推算出后续的元素，这样就不必创建完整的 list，从而节省大量的空间。在 Python 中，这种一边循环一边计算的机制，称为生成器： <code>generator</code> 。</p><p>要创建一个 generator，有很多种方法。第一种方法很简单，只要把一个列表生成式的 <code>[]</code> 改成 <code>()</code> ，就创建了一个 generator：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>d <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'x'</span><span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">:</span> <span class="token string">'C'</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>g <span class="token operator">=</span> <span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span>  <span class="token comment"># &lt;generator object &lt;genexpr> at 0x00000210690ADBA0></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># x=A</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># y=B</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># z=C</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 抛出异常 StopIteration</span></pre></td></tr></table></figure><p>generator 可以通过实例中 <code>next()</code> 的方式依次取出相应的值，但这种做法较为笨拙，而且越界时会抛出异常，由于 generator 也是可遍历对象，因此更加常见的是结合循环进行使用：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>d <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'x'</span><span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">:</span> <span class="token string">'C'</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>g <span class="token operator">=</span> <span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">for</span> n <span class="token keyword">in</span> g<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></pre></td></tr></table></figure><p>另一种创建 generator 的方法：</p><p>著名的斐波拉契数列（Fibonacci），除第一个和第二个数外，任意一个数都可由前两个数相加得到：</p><p>1, 1, 2, 3, 5, 8, 13, 21, 34, ...</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 函数实现斐波拉契数列</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> <span class="token builtin">max</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b</pre></td></tr><tr><td data-num="7"></td><td><pre>        n <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">return</span> <span class="token string">'done'</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>fib<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>将上述算法修改为一个生成器：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 斐波拉契数列生成器</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> <span class="token builtin">max</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">yield</span> b  <span class="token comment"># yield 中断执行并返回每轮执行的结果</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b</pre></td></tr><tr><td data-num="7"></td><td><pre>        n <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">return</span> <span class="token string">'done'</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># 这里得到的 fib (10) 是一个 generator 对象</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">for</span> n <span class="token keyword">in</span> fib<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></pre></td></tr></table></figure><p>这就是第二种创建 generator 的方法，如果一个函数中定义了 <code>yield</code> 字段，这个函数就不再是一个普通函数，而是一个生成器。</p><p>函数和生成器有一个较为突出的区别：函数是按照顺序执行，如果遇到 return 语句或执行到最后一行语句就返回；而生成器却是在每次调用 <code>next()</code> 方法时才执行，遇到 <code>yield</code> 语句时就返回，而当再次执行 <code>next()</code> 时，就从上一次 <code>yield</code> 返回语句处继续执行。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 在这里，注释中的 [ ] 表示执行顺序，其后表示输出内容</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">odd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'step 1'</span><span class="token punctuation">)</span>  <span class="token comment"># [1] step 1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">yield</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'step 2'</span><span class="token punctuation">)</span>  <span class="token comment"># [3] step 2</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">yield</span> <span class="token number">3</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'step 3'</span><span class="token punctuation">)</span>  <span class="token comment"># [5] step 3</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">yield</span> <span class="token number">5</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>odd <span class="token operator">=</span> odd<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>odd<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [2] 1</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>odd<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [4] 3</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>odd<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [6] 5</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment"># 也可以使用循环进行遍历</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># for n in odd():</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">#     print(n)</span></pre></td></tr></table></figure><p>如果在取出生成器中的所有值之后，希望获得生成器中返回语句定义的内容，可以通过异常捕获的方式：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> <span class="token builtin">max</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">yield</span> b  <span class="token comment"># yield 中断执行并返回每轮执行的结果</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b</pre></td></tr><tr><td data-num="6"></td><td><pre>        n <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">return</span> <span class="token string">'done'</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>fib <span class="token operator">=</span> fib<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        x <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span>fib<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'g:'</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">except</span> StopIteration <span class="token keyword">as</span> e<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Generator return value:'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span>  <span class="token comment"># 获取到生成器中 return 语句的返回值。</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token keyword">break</span></pre></td></tr></table></figure><h4 id="迭代器"><a class="anchor" href="#迭代器">#</a> 迭代器</h4><p>在前文的<strong>迭代</strong>部分，我们已经提到过迭代器，可以直接作用于 for 循环的对象，都被称为可迭代对象，并且可以使用 <code>isinstance()</code> 函数来判断一个对象是否可迭代。而其实，可以被 <code>next()</code> 函数调用并不断返回下一个值的对象，即为迭代器（Iterator）。</p><p>生成器都是迭代器对象，而数组、字典、字符串等虽然具有可迭代属性，却并不是迭代器对象，这是因为迭代器对象可以被 <code>next()</code> 函数不断获取下一个值，但其本身却并不知晓当前序列的长度，只能通过 <code>next()</code> 函数实现按需计算下一个元素。因此，迭代器的计算是惰性的，只有在需要返回下一个数据的时候，才会进行计算。</p><blockquote><p>迭代器甚至可以表示一个无限大的数据流，而列表等类型则是有限的。判断是否是迭代器对象很简单，只需要知道它是否是可作用于 <code>next()</code> 函数的对象即可。</p></blockquote><h3 id="函数式编程"><a class="anchor" href="#函数式编程">#</a> 函数式编程</h3><p>函数是 Python 内建支持的一种封装，我们通过把大段代码拆成函数，通过一层一层的函数调用，就可以把复杂任务分解成简单的任务，这种分解可以称之为面向过程的程序设计。函数就是面向过程的程序设计的基本单元。</p><p>而函数式编程（Functional Programming）虽然也可以归结到面向过程的程序设计，但其思想更接近数学计算。</p><p>函数式编程的一个特点就是，允许把函数本身作为参数传入另一个函数，还允许返回一个函数！</p><p>Python 对函数式编程提供部分支持。由于 Python 允许使用变量，因此，Python 不是纯函数式编程语言。</p><h4 id="高阶函数"><a class="anchor" href="#高阶函数">#</a> 高阶函数</h4><p>函数本身可以赋值给一个变量，即变量可以指向函数。</p><p>当一个变量指向了某个函数，那么就可以通过这个变量来调用该函数：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">abs</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 12</span></pre></td></tr></table></figure><p>其实，函数名本身就是一个指向函数的变量，那么，这个变量自然也可以被重新赋值：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> collections<span class="token punctuation">.</span>abc <span class="token keyword">import</span> Iterable</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin">abs</span> <span class="token operator">=</span> <span class="token builtin">isinstance</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 报错：TypeError</span></pre></td></tr></table></figure><p>由此可知，函数本身也是一个变量，反过来说，我们可以定义一个函数类型的变量，而函数本身是可以接收变量作为参数的，那么，同样函数就也可以接收一个函数类型的参数。这种接收函数作为参数的函数，就被称为高阶函数，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> f<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> f<span class="token punctuation">(</span>y<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>result <span class="token operator">=</span> add<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token builtin">abs</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment"># 6</span></pre></td></tr></table></figure><p>总而言之，<mark>把函数作为参数传入，这样的函数称为高阶函数，函数式编程就是指这种高度抽象的编程范式。</mark></p><h5 id="map-reduce"><a class="anchor" href="#map-reduce">#</a> map / reduce</h5><p>Python 内建了 <code>map()</code> 和 <code>reduce()</code> 函数。</p><ol><li><p>map</p><p><code>map()</code> 函数接收两个参数，一个是函数，一个是 <code>Iterable</code> ， <code>map</code> 将传入的函数依次作用到序列的每个元素，并把结果作为新的 <code>Iterator</code> 返回，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x <span class="token operator">*</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>r <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 返回值是一个 Iterator 对象</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81]</span></pre></td></tr></table></figure><p>通过 map 传递不同的函数参数，可以实现对数组的不同处理。</p></li><li><p>reduce</p><p><code>reduce</code> 把一个函数作用在一个序列上，这个函数必须接收两个参数， <code>reduce</code> 会把结果继续和序列的下一个元素做累积计算，其效果就是：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin">reduce</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> x4<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> f<span class="token punctuation">(</span>f<span class="token punctuation">(</span>f<span class="token punctuation">(</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">)</span><span class="token punctuation">,</span> x3<span class="token punctuation">)</span><span class="token punctuation">,</span> x4<span class="token punctuation">)</span></pre></td></tr></table></figure><p>例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">**</span> x</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>result <span class="token operator">=</span> <span class="token builtin">reduce</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 256</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># f(f(2, 4), 6) ==> (6 - 2) ** ((4 - 2) ** 2) ==> 4 ** (2 ** 2) ==> 4 ** 4 ==> 256</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment"># 256</span></pre></td></tr></table></figure><p>当然，map 和 reduce 也可以进行组合使用。</p></li></ol><h5 id="filter"><a class="anchor" href="#filter">#</a> filter</h5><p>Python 内建的 <code>filter()</code> 函数用于过滤序列，它和 <code>map()</code> 类似，也接收一个函数和一个序列。但不同的是， <code>filter()</code> 把传入的函数依次作用于每个元素，然后根据返回值是 <code>True</code> 还是 <code>False</code> 决定保留还是丢弃该元素，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 过滤掉奇数，保留偶数</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">is_odd</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>f <span class="token operator">=</span> <span class="token builtin">filter</span><span class="token punctuation">(</span>is_odd<span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [1, 3, 5, 7, 9]</span></pre></td></tr></table></figure><p>除了上述示例的用法，还可以有很多用途，例如：去除字符串中的特殊字符、移除数组中的空元素、保留数组中具有某种特征的元素等，总之，filter 的主要作用在于对序列进行过滤和赛选。</p><blockquote><p>map 和 filter 返回的都是 Iterator 。由于迭代器是惰性序列，因此，要强迫其完成计算结果，需要使用 <code>list()</code> 函数获取所有结果并返回数组。</p></blockquote><p>可以尝试用已有知识求出 100 以内所有素数。</p><h5 id="sorted"><a class="anchor" href="#sorted">#</a> sorted</h5><p>排序也是在程序中经常用到的算法。无论使用冒泡排序还是快速排序，排序的核心是比较两个元素的大小。如果是数字，我们可以直接比较，但如果是字符串或者两个 dict 比较的过程就必须通过函数抽象出来。</p><p>Python 内置的 <code>sorted()</code> 函数就可以对 list 进行排序：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [-21, -12, 5, 9, 36]</span></pre></td></tr></table></figure><p>但 <code>sort()</code> 作为一个高阶函数，除了默认的排序之外，它还可以接收一个 <code>key</code> 指定的函数来实现自定义的排序，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x <span class="token operator">**</span> x <span class="token operator">-</span> x</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 按绝对值大小排序</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token builtin">abs</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [5, 9, -12, -21, 36]</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># 按自定义函数方式进行排序</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">,</span> key<span class="token operator">=</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [-12, -21, 5, 9, 36]</span></pre></td></tr></table></figure><p>而如果要对字符串进行排序，sort 默认会对字符串的 ASCII 码进行比较。</p><p>而要进行反向排序，只需要指定一个 <code>reverse=True</code> 参数即可：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [-21, -12, 5, 9, 36]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [36, 9, 5, -12, -21]</span></pre></td></tr></table></figure><h4 id="返回函数"><a class="anchor" href="#返回函数">#</a> 返回函数</h4><p>高阶函数除了可以接受函数作为参数外，还可以把函数作为结果值返回，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 可变参数求和的懒执行方式</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">def</span> <span class="token function">lazy_sum</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        ax <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">for</span> n <span class="token keyword">in</span> args<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            ax <span class="token operator">=</span> ax <span class="token operator">+</span> n</pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span> ax</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">return</span> <span class="token builtin">sum</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>f <span class="token operator">=</span> lazy_sum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 返回的函数并不是立即执行</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>  <span class="token comment"># &lt;function lazy_sum.&lt;locals>.sum at 0x000001875C48EB80></span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 而是 f () 函数调用时才执行</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 25</span></pre></td></tr></table></figure><p>这种在函数中定义的函数，称为内部函数，内部函数可以引用外部函数的参数和局部变量，当外部函数被调用并返回内部函数时，相关的参数和变量都会保存在返回的函数中，这种被称为<strong>闭包</strong>的结构在许多程序中都有广泛的应用。</p><p>另外，每次调用外部函数时，返回的内部函数都是一个新的实例：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">return</span> f</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>f1 <span class="token operator">=</span> fn<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>f2 <span class="token operator">=</span> fn<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f1 <span class="token operator">==</span> f2<span class="token punctuation">)</span>  <span class="token comment"># False</span></pre></td></tr></table></figure><p>另外，需要注意的是，返回函数不要引用任何循环变量，或者后续会发生变化的变量，反例如下：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    fs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>             <span class="token keyword">return</span> i <span class="token operator">*</span> i</pre></td></tr><tr><td data-num="6"></td><td><pre>        fs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>f<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">return</span> fs</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>f1<span class="token punctuation">,</span> f2<span class="token punctuation">,</span> f3 <span class="token operator">=</span> count<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 9 （预期是 1）</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 9 （预期是 4）</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 9</span></pre></td></tr></table></figure><p>这就会出现函数的返回值和预期不一致，这是因为在返回的函数中引用了循环变量，但这种返回函数并非立即执行，而当多个循环函数都被返回时，循环变量已经变为循环周期的最大值，所以最终调用函数进行计算时，就不会得到预期的循环效果产生的值。</p><p>而如果一定要引用循环变量，可以通过如下方式，将循环变量作为参数传入到另一内部函数中，这样就可以保证被绑定的循环变量参数不变：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">def</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>            <span class="token keyword">return</span> j <span class="token operator">*</span> j</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> g</pre></td></tr><tr><td data-num="6"></td><td><pre>    fs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        fs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>f<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># f (i) 立刻被执行，因此 i 的当前值被传入 f ()</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">return</span> fs</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>f1<span class="token punctuation">,</span> f2<span class="token punctuation">,</span> f3 <span class="token operator">=</span> count<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 1</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 4</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 9</span></pre></td></tr></table></figure><h4 id="匿名函数"><a class="anchor" href="#匿名函数">#</a> 匿名函数</h4><p>当我们在传入函数时，有些时候，不需要显式地定义函数，直接传入匿名函数更方便。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>n <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">*</span> x<span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>  <span class="token comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81]</span></pre></td></tr></table></figure><p>关键字 <code>lambda</code> 表示匿名函数，冒号前面的变量表示函数参数。</p><p>匿名函数有个限制，就是只能有一个表达式，不用写 <code>return</code> ，返回值就是该表达式的结果。</p><p>匿名函数也是一个函数对象，也可以把匿名函数赋值给一个变量，再利用变量来调用该函数；同样地，也可以把匿名函数作为返回值返回。</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>f <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">*</span> x</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 16</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> <span class="token keyword">lambda</span><span class="token punctuation">:</span> x <span class="token operator">**</span> x</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>fn<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 27</span></pre></td></tr></table></figure><h4 id="装饰器"><a class="anchor" href="#装饰器">#</a> 装饰器</h4><p>装饰器（Decorator）可以在代码运行期间，动态地增加功能，而其实本质上，装饰器就是一个返回函数的高阶函数。</p><p>由于函数也是一个对象，而且函数对象可以被赋值给变量，所以，通过变量也能调用该函数。而函数对象有一个 <code>__name__</code> 属性，可以获取到函数的名字，据此，我们可以尝试实现一个简单的打印日志的功能：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">log</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'call %s()'</span> <span class="token operator">%</span> func<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> wrapper</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token decorator annotation punctuation">@log</span>  <span class="token comment"># 通过 Python 的 @语法，将装饰器置于函数的定义处，相当于执行了：say_hi = log (say_hi)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">def</span> <span class="token function">say_hi</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hi,'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>say_hi<span class="token punctuation">(</span><span class="token string">'Zhang San'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>say_hi<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment"># call say_hi()</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment"># Hi, Zhang San</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># wrapper  # 函数名错误</span></pre></td></tr></table></figure><p>当然，你也可以为以上程序添加断点，并观察其执行流程。</p><p>但是，如果装饰器本身需要传入参数，那就需要编写一个返回装饰器的高阶函数，相对而言会更加复杂：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">decorator</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s %s()'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> func<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>            <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> wrapper</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">return</span> decorator</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token decorator annotation punctuation">@log</span><span class="token punctuation">(</span><span class="token string">"Python"</span><span class="token punctuation">)</span>  <span class="token comment"># 相当于执行了：now = log ('Python')(say_hi)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">def</span> <span class="token function">say_hi</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hi,'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>say_hi<span class="token punctuation">(</span><span class="token string">'Zhang San'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>say_hi<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># Python say_hi()</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment"># Hi, Zhang San</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment"># wrapper  # 函数名错误</span></pre></td></tr></table></figure><p>但如代码所示，通过现在的方式调用，被装饰器修饰的函数（say_hi）在执行结束后，其函数名称被替换了，这是因为装饰器是将被修饰的函数（say_hi）作为参数传递到了装饰器的内部，并且最终将其赋值为装饰器内部定义的一个内部函数（wrapper），因此，装饰器修饰的函数所对应的名称（say_hi），其实际上指向的不再是原本定义的函数，而是指向其作为参数传递，并且被赋值到的装饰器的一个内部参数（wrapper），所以最终通过 <code>say_hi.__name__</code> 获取到的函数名称变为了 <code>wrapper</code> 。</p><p>而要解决这样的问题，我们就需要在装饰器中实现类似 <code>wrapper.__name__ = func.__name__</code> 的功能，但我们其实并不需要手动编写这样的代码，因为 Python 内置了一个 <code>functools.wraps</code> 函数可以实现这样的功能：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> functools  <span class="token comment"># 导入 functools 模块</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">def</span> <span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">decorator</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token decorator annotation punctuation">@functools<span class="token punctuation">.</span>wraps</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>            <span class="token comment"># wrapper.__name__ = func.__name__  # 当然，通过这种方式也是可以的，但不推荐</span></pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s %s()'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> func<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> wrapper</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">return</span> decorator</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token decorator annotation punctuation">@log</span><span class="token punctuation">(</span><span class="token string">"Python"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">def</span> <span class="token function">say_hi</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hi,'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>say_hi<span class="token punctuation">(</span><span class="token string">'Zhang San'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>say_hi<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment"># Python say_hi()</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># Hi, Zhang San</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment"># say_hi  # 函数名正确</span></pre></td></tr></table></figure><h4 id="偏函数"><a class="anchor" href="#偏函数">#</a> 偏函数</h4><p><span class="label danger">❗️TODO</span> 待完善</p><p>Python 的 <code>functools</code> 模块提供了很多有用的功能，其中一个就是偏函数（Partial function）。</p><p>通过函数 <code>functools.partial</code> ，我们可以创建一个偏函数：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># hex 字符串转 10 进制</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> functools</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>int2 <span class="token operator">=</span> functools<span class="token punctuation">.</span>partial<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> base<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>int2<span class="token punctuation">(</span><span class="token string">'101000'</span><span class="token punctuation">,</span> base<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 101000</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>int2<span class="token punctuation">(</span><span class="token string">'101000'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 40</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 相当于</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'101000'</span><span class="token punctuation">,</span> <span class="token operator">**</span><span class="token punctuation">&#123;</span><span class="token string">'base'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 40</span></pre></td></tr></table></figure><p><code>functools.partial</code> 的作用就是，把一个函数的某些参数给固定住（也就是设置默认值），返回一个新的函数，这样调用这个新函数会更简单。而且，调用方可以根据自己的需要，选择是否传递新的值覆盖默认值。</p><p>创建偏函数时，实际上可以接收函数对象、 <code>*args</code> 和 <code>**kw</code> 这 3 个参数，在上面的二进制示例中，实际上是固定了 <code>int()</code> 函数的关键字参数 <code>base</code> 。而其他偏函数也是类似地，是将向偏函数中传入的值作为远函数的一部分，自动添加到所有参数左侧，例如：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> functools</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>args1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>max1 <span class="token operator">=</span> functools<span class="token punctuation">.</span>partial<span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>max1<span class="token punctuation">(</span><span class="token operator">*</span>args1<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># 相当于</span></pre></td></tr><tr><td data-num="7"></td><td><pre>args2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>max2 <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token operator">*</span>args2<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>max2<span class="token punctuation">)</span></pre></td></tr></table></figure><blockquote><p>当函数的参数个数太多，需要简化时，使用 <code>functools.partial</code> 可以创建一个新的函数，这个新函数可以固定住原函数的部分参数，从而在调用时更简单。</p></blockquote><h3 id="模块"><a class="anchor" href="#模块">#</a> 模块</h3><h4 id="使用模块"><a class="anchor" href="#使用模块">#</a> 使用模块</h4><h4 id="安装第三方模块"><a class="anchor" href="#安装第三方模块">#</a> 安装第三方模块</h4><h3 id="面向对象编程"><a class="anchor" href="#面向对象编程">#</a> 面向对象编程</h3><h4 id="类和实例"><a class="anchor" href="#类和实例">#</a> 类和实例</h4><h4 id="访问限制"><a class="anchor" href="#访问限制">#</a> 访问限制</h4><h4 id="继承和多态"><a class="anchor" href="#继承和多态">#</a> 继承和多态</h4><h4 id="获取对象信息"><a class="anchor" href="#获取对象信息">#</a> 获取对象信息</h4><h4 id="实例属性和类属性"><a class="anchor" href="#实例属性和类属性">#</a> 实例属性和类属性</h4><h3 id="面向对象高级编程"><a class="anchor" href="#面向对象高级编程">#</a> 面向对象高级编程</h3><h4 id="_slots_"><a class="anchor" href="#_slots_">#</a> _<em>slots</em>_</h4><h4 id="property"><a class="anchor" href="#property">#</a> @property</h4><h4 id="多重继承"><a class="anchor" href="#多重继承">#</a> 多重继承</h4><h4 id="定制类"><a class="anchor" href="#定制类">#</a> 定制类</h4><h4 id="枚举类"><a class="anchor" href="#枚举类">#</a> 枚举类</h4><h4 id="元类"><a class="anchor" href="#元类">#</a> 元类</h4><h3 id="错误-调试和测试"><a class="anchor" href="#错误-调试和测试">#</a> 错误、调试和测试</h3><h4 id="错误处理"><a class="anchor" href="#错误处理">#</a> 错误处理</h4><h4 id="调试"><a class="anchor" href="#调试">#</a> 调试</h4><h4 id="单元测试"><a class="anchor" href="#单元测试">#</a> 单元测试</h4><h4 id="文档测试"><a class="anchor" href="#文档测试">#</a> 文档测试</h4><h3 id="io编程"><a class="anchor" href="#io编程">#</a> IO 编程</h3><h4 id="文件的读写"><a class="anchor" href="#文件的读写">#</a> 文件的读写</h4><h4 id="stringio-与-bytesio"><a class="anchor" href="#stringio-与-bytesio">#</a> StringIO 与 BytesIO</h4><h4 id="操作文件和目录"><a class="anchor" href="#操作文件和目录">#</a> 操作文件和目录</h4><h4 id="序列化"><a class="anchor" href="#序列化">#</a> 序列化</h4><h3 id="进程和线程"><a class="anchor" href="#进程和线程">#</a> 进程和线程</h3><h4 id="多进程"><a class="anchor" href="#多进程">#</a> 多进程</h4><h4 id="多线程"><a class="anchor" href="#多线程">#</a> 多线程</h4><h4 id="threadlocal"><a class="anchor" href="#threadlocal">#</a> ThreadLocal</h4><h4 id="进程与线程对比"><a class="anchor" href="#进程与线程对比">#</a> 进程与线程对比</h4><h4 id="分布式线程"><a class="anchor" href="#分布式线程">#</a> 分布式线程</h4><h3 id="正则表达式"><a class="anchor" href="#正则表达式">#</a> 正则表达式</h3><h3 id="常用内建模块"><a class="anchor" href="#常用内建模块">#</a> 常用内建模块</h3><h4 id="datetime"><a class="anchor" href="#datetime">#</a> datetime</h4><h4 id="collections"><a class="anchor" href="#collections">#</a> collections</h4><h4 id="base64"><a class="anchor" href="#base64">#</a> base64</h4><h4 id="struct"><a class="anchor" href="#struct">#</a> struct</h4><h4 id="hashlib"><a class="anchor" href="#hashlib">#</a> hashlib</h4><h4 id="hmac"><a class="anchor" href="#hmac">#</a> hmac</h4><h4 id="itertools"><a class="anchor" href="#itertools">#</a> itertools</h4><h4 id="contextlib"><a class="anchor" href="#contextlib">#</a> contextlib</h4><h4 id="urllib"><a class="anchor" href="#urllib">#</a> urllib</h4><h4 id="xml"><a class="anchor" href="#xml">#</a> XML</h4><h4 id="htmlparser"><a class="anchor" href="#htmlparser">#</a> HTMLParser</h4><h3 id="常用第三方模块"><a class="anchor" href="#常用第三方模块">#</a> 常用第三方模块</h3><h4 id="pillow"><a class="anchor" href="#pillow">#</a> Pillow</h4><h4 id="requests"><a class="anchor" href="#requests">#</a> requests</h4><h4 id="chardet"><a class="anchor" href="#chardet">#</a> chardet</h4><h4 id="psutil"><a class="anchor" href="#psutil">#</a> psutil</h4><h3 id="virtualenv"><a class="anchor" href="#virtualenv">#</a> virtualenv</h3><h3 id="图形界面"><a class="anchor" href="#图形界面">#</a> 图形界面</h3><h4 id="海龟绘图"><a class="anchor" href="#海龟绘图">#</a> 海龟绘图</h4><h3 id="网络编程"><a class="anchor" href="#网络编程">#</a> 网络编程</h3><h4 id="tcpip-简介"><a class="anchor" href="#tcpip-简介">#</a> TCP/IP 简介</h4><h4 id="tcp编程"><a class="anchor" href="#tcp编程">#</a> TCP 编程</h4><h4 id="udp编程"><a class="anchor" href="#udp编程">#</a> UDP 编程</h4><h3 id="电子邮件"><a class="anchor" href="#电子邮件">#</a> 电子邮件</h3><h4 id="smtp-发送邮件"><a class="anchor" href="#smtp-发送邮件">#</a> SMTP 发送邮件</h4><h4 id="pop3-收取邮件"><a class="anchor" href="#pop3-收取邮件">#</a> POP3 收取邮件</h4><h3 id="数据库访问"><a class="anchor" href="#数据库访问">#</a> 数据库访问</h3><h4 id="使用sqlite"><a class="anchor" href="#使用sqlite">#</a> 使用 SQLite</h4><h4 id="使用mysql"><a class="anchor" href="#使用mysql">#</a> 使用 MySQL</h4><h4 id="使用sqlalchemy"><a class="anchor" href="#使用sqlalchemy">#</a> 使用 SQLAlchemy</h4><h3 id="web-开发"><a class="anchor" href="#web-开发">#</a> Web 开发</h3><h4 id="http-协议简介"><a class="anchor" href="#http-协议简介">#</a> HTTP 协议简介</h4><h4 id="html-简介"><a class="anchor" href="#html-简介">#</a> HTML 简介</h4><h4 id="wsgi-接口"><a class="anchor" href="#wsgi-接口">#</a> WSGI 接口</h4><h4 id="使用-web-框架"><a class="anchor" href="#使用-web-框架">#</a> 使用 Web 框架</h4><h4 id="使用模板"><a class="anchor" href="#使用模板">#</a> 使用模板</h4><h3 id="异步io"><a class="anchor" href="#异步io">#</a> 异步 IO</h3><h4 id="协程"><a class="anchor" href="#协程">#</a> 协程</h4><h4 id="asyncio"><a class="anchor" href="#asyncio">#</a> asyncio</h4><h4 id="asyncawait"><a class="anchor" href="#asyncawait">#</a> async/await</h4><h4 id="aiohttp"><a class="anchor" href="#aiohttp">#</a> aiohttp</h4><h3 id="micropython"><a class="anchor" href="#micropython">#</a> MicroPython</h3><blockquote><p>贫穷是我一生之敌。</p></blockquote><h3 id="项目实践"><a class="anchor" href="#项目实践">#</a> 项目实践</h3><h3 id="文末总结"><a class="anchor" href="#文末总结">#</a> 文末总结</h3><h3 id="参考"><a class="anchor" href="#参考">#</a> 参考</h3><ul><li>独立博客：<span class="exturl" data-url="aHR0cHM6Ly93d3cubGlhb3h1ZWZlbmcuY29tL3dpa2kvMTAxNjk1OTY2MzYwMjQwMA==">廖雪峰的官方网站</span></li></ul><div class="tags"><a href="/tags/python/" rel="tag"><i class="ic i-tag"></i> python</a></div></div><footer><div class="meta"><span id="computer-science/python/python-all-base/" class="item leancloud_visitors" data-flag-title="Python 超级长文全通关" title="閲覧数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">閲覧数</span> <span class="leancloud-visitors-count"></span> <span class="text">回</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 寄付</button><p>*~(￣▽￣)~[お茶]を一杯ください</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="チンモク WeChat 支払う"><p>WeChat 支払う</p></div><div><img data-src="/images/alipay.png" alt="チンモク Alipay"><p>Alipay</p></div><div><img data-src="/images/paypal.png" alt="チンモク PayPal"><p>PayPal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>著者： </strong>チンモク <i class="ic i-at"><em>@</em></i>チンモクのブログ</li><li class="link"><strong>記事へのリンク：</strong> <a href="https://xfc-exclave.github.io/computer-science/python/python-all-base/" title="Python 超级长文全通关">https://xfc-exclave.github.io/computer-science/python/python-all-base/</a></li><li class="license"><strong>著作権表示： </strong>このブログ内のすべての記事は、特別な記載がない限り <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> の下のライセンスで保護されています。</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/java-learning-path/1-basic/02-java-concurrency/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;reference-1301046789.cos.ap-nanjing.myqcloud.com&#x2F;blog-img&#x2F;b8b20cbd7d254dfbb54225037955ef03.jpg" title="Java 高并发编程"><span class="type">前の記事</span> <span class="category"><i class="ic i-flag"></i> 基础篇</span><h3>Java 高并发编程</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="見出し"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hello-world"><span class="toc-number">3.</span> <span class="toc-text">Hello World</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F%E4%B8%8E-python-%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.1.</span> <span class="toc-text">命令行模式与 Python 交互模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7"><span class="toc-number">3.2.</span> <span class="toc-text">选择开发工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%89%93%E5%8D%B0"><span class="toc-number">3.3.</span> <span class="toc-text">输入打印</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python-%E5%9F%BA%E7%A1%80"><span class="toc-number">4.</span> <span class="toc-text">Python 基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%8F%98%E9%87%8F"><span class="toc-number">4.1.</span> <span class="toc-text">数据类型和变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E7%BC%96%E7%A0%81"><span class="toc-number">4.2.</span> <span class="toc-text">字符串和编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#list-%E5%92%8C-tuple"><span class="toc-number">4.3.</span> <span class="toc-text">list 和 tuple</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#list"><span class="toc-number">4.3.1.</span> <span class="toc-text">list</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#tuple"><span class="toc-number">4.3.2.</span> <span class="toc-text">tuple</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">4.4.</span> <span class="toc-text">条件判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">4.5.</span> <span class="toc-text">循环</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dict-%E5%92%8C-set"><span class="toc-number">4.6.</span> <span class="toc-text">dict 和 set</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#dict"><span class="toc-number">4.6.1.</span> <span class="toc-text">dict</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#set"><span class="toc-number">4.6.2.</span> <span class="toc-text">set</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">5.1.</span> <span class="toc-text">调用函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">5.2.</span> <span class="toc-text">定义函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-number">5.3.</span> <span class="toc-text">函数的参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.</span> <span class="toc-text">递归函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7"><span class="toc-number">6.</span> <span class="toc-text">高级特性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-number">6.1.</span> <span class="toc-text">切片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3"><span class="toc-number">6.2.</span> <span class="toc-text">迭代</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E7%94%9F%E6%88%90%E5%BC%8F"><span class="toc-number">6.3.</span> <span class="toc-text">列表生成式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-number">6.4.</span> <span class="toc-text">生成器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">6.5.</span> <span class="toc-text">迭代器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-number">7.</span> <span class="toc-text">函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-number">7.1.</span> <span class="toc-text">高阶函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#map-reduce"><span class="toc-number">7.1.1.</span> <span class="toc-text">map &#x2F; reduce</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#filter"><span class="toc-number">7.1.2.</span> <span class="toc-text">filter</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sorted"><span class="toc-number">7.1.3.</span> <span class="toc-text">sorted</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0"><span class="toc-number">7.2.</span> <span class="toc-text">返回函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">7.3.</span> <span class="toc-text">匿名函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">7.4.</span> <span class="toc-text">装饰器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%8F%E5%87%BD%E6%95%B0"><span class="toc-number">7.5.</span> <span class="toc-text">偏函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97"><span class="toc-number">8.</span> <span class="toc-text">模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97"><span class="toc-number">8.1.</span> <span class="toc-text">使用模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97"><span class="toc-number">8.2.</span> <span class="toc-text">安装第三方模块</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-number">9.</span> <span class="toc-text">面向对象编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AE%9E%E4%BE%8B"><span class="toc-number">9.1.</span> <span class="toc-text">类和实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6"><span class="toc-number">9.2.</span> <span class="toc-text">访问限制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A4%9A%E6%80%81"><span class="toc-number">9.3.</span> <span class="toc-text">继承和多态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E4%BF%A1%E6%81%AF"><span class="toc-number">9.4.</span> <span class="toc-text">获取对象信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%92%8C%E7%B1%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">9.5.</span> <span class="toc-text">实例属性和类属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B"><span class="toc-number">10.</span> <span class="toc-text">面向对象高级编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_slots_"><span class="toc-number">10.1.</span> <span class="toc-text">_slots_</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#property"><span class="toc-number">10.2.</span> <span class="toc-text">@property</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF"><span class="toc-number">10.3.</span> <span class="toc-text">多重继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E5%88%B6%E7%B1%BB"><span class="toc-number">10.4.</span> <span class="toc-text">定制类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB"><span class="toc-number">10.5.</span> <span class="toc-text">枚举类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%B1%BB"><span class="toc-number">10.6.</span> <span class="toc-text">元类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%99%E8%AF%AF-%E8%B0%83%E8%AF%95%E5%92%8C%E6%B5%8B%E8%AF%95"><span class="toc-number">11.</span> <span class="toc-text">错误、调试和测试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">11.1.</span> <span class="toc-text">错误处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%83%E8%AF%95"><span class="toc-number">11.2.</span> <span class="toc-text">调试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="toc-number">11.3.</span> <span class="toc-text">单元测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E6%B5%8B%E8%AF%95"><span class="toc-number">11.4.</span> <span class="toc-text">文档测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io%E7%BC%96%E7%A8%8B"><span class="toc-number">12.</span> <span class="toc-text">IO 编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E8%AF%BB%E5%86%99"><span class="toc-number">12.1.</span> <span class="toc-text">文件的读写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#stringio-%E4%B8%8E-bytesio"><span class="toc-number">12.2.</span> <span class="toc-text">StringIO 与 BytesIO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95"><span class="toc-number">12.3.</span> <span class="toc-text">操作文件和目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">12.4.</span> <span class="toc-text">序列化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B"><span class="toc-number">13.</span> <span class="toc-text">进程和线程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%BF%9B%E7%A8%8B"><span class="toc-number">13.1.</span> <span class="toc-text">多进程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-number">13.2.</span> <span class="toc-text">多线程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#threadlocal"><span class="toc-number">13.3.</span> <span class="toc-text">ThreadLocal</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E5%AF%B9%E6%AF%94"><span class="toc-number">13.4.</span> <span class="toc-text">进程与线程对比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%BA%BF%E7%A8%8B"><span class="toc-number">13.5.</span> <span class="toc-text">分布式线程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">14.</span> <span class="toc-text">正则表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%86%85%E5%BB%BA%E6%A8%A1%E5%9D%97"><span class="toc-number">15.</span> <span class="toc-text">常用内建模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#datetime"><span class="toc-number">15.1.</span> <span class="toc-text">datetime</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#collections"><span class="toc-number">15.2.</span> <span class="toc-text">collections</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#base64"><span class="toc-number">15.3.</span> <span class="toc-text">base64</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#struct"><span class="toc-number">15.4.</span> <span class="toc-text">struct</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hashlib"><span class="toc-number">15.5.</span> <span class="toc-text">hashlib</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hmac"><span class="toc-number">15.6.</span> <span class="toc-text">hmac</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#itertools"><span class="toc-number">15.7.</span> <span class="toc-text">itertools</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#contextlib"><span class="toc-number">15.8.</span> <span class="toc-text">contextlib</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#urllib"><span class="toc-number">15.9.</span> <span class="toc-text">urllib</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#xml"><span class="toc-number">15.10.</span> <span class="toc-text">XML</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#htmlparser"><span class="toc-number">15.11.</span> <span class="toc-text">HTMLParser</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97"><span class="toc-number">16.</span> <span class="toc-text">常用第三方模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#pillow"><span class="toc-number">16.1.</span> <span class="toc-text">Pillow</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#requests"><span class="toc-number">16.2.</span> <span class="toc-text">requests</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chardet"><span class="toc-number">16.3.</span> <span class="toc-text">chardet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#psutil"><span class="toc-number">16.4.</span> <span class="toc-text">psutil</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#virtualenv"><span class="toc-number">17.</span> <span class="toc-text">virtualenv</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2"><span class="toc-number">18.</span> <span class="toc-text">图形界面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%B7%E9%BE%9F%E7%BB%98%E5%9B%BE"><span class="toc-number">18.1.</span> <span class="toc-text">海龟绘图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B"><span class="toc-number">19.</span> <span class="toc-text">网络编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#tcpip-%E7%AE%80%E4%BB%8B"><span class="toc-number">19.1.</span> <span class="toc-text">TCP&#x2F;IP 简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tcp%E7%BC%96%E7%A8%8B"><span class="toc-number">19.2.</span> <span class="toc-text">TCP 编程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#udp%E7%BC%96%E7%A8%8B"><span class="toc-number">19.3.</span> <span class="toc-text">UDP 编程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="toc-number">20.</span> <span class="toc-text">电子邮件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#smtp-%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6"><span class="toc-number">20.1.</span> <span class="toc-text">SMTP 发送邮件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pop3-%E6%94%B6%E5%8F%96%E9%82%AE%E4%BB%B6"><span class="toc-number">20.2.</span> <span class="toc-text">POP3 收取邮件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AE"><span class="toc-number">21.</span> <span class="toc-text">数据库访问</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8sqlite"><span class="toc-number">21.1.</span> <span class="toc-text">使用 SQLite</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8mysql"><span class="toc-number">21.2.</span> <span class="toc-text">使用 MySQL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8sqlalchemy"><span class="toc-number">21.3.</span> <span class="toc-text">使用 SQLAlchemy</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web-%E5%BC%80%E5%8F%91"><span class="toc-number">22.</span> <span class="toc-text">Web 开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#http-%E5%8D%8F%E8%AE%AE%E7%AE%80%E4%BB%8B"><span class="toc-number">22.1.</span> <span class="toc-text">HTTP 协议简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#html-%E7%AE%80%E4%BB%8B"><span class="toc-number">22.2.</span> <span class="toc-text">HTML 简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#wsgi-%E6%8E%A5%E5%8F%A3"><span class="toc-number">22.3.</span> <span class="toc-text">WSGI 接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-web-%E6%A1%86%E6%9E%B6"><span class="toc-number">22.4.</span> <span class="toc-text">使用 Web 框架</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF"><span class="toc-number">22.5.</span> <span class="toc-text">使用模板</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5io"><span class="toc-number">23.</span> <span class="toc-text">异步 IO</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%8F%E7%A8%8B"><span class="toc-number">23.1.</span> <span class="toc-text">协程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#asyncio"><span class="toc-number">23.2.</span> <span class="toc-text">asyncio</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#asyncawait"><span class="toc-number">23.3.</span> <span class="toc-text">async&#x2F;await</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#aiohttp"><span class="toc-number">23.4.</span> <span class="toc-text">aiohttp</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#micropython"><span class="toc-number">24.</span> <span class="toc-text">MicroPython</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5"><span class="toc-number">25.</span> <span class="toc-text">项目实践</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AB%E6%80%BB%E7%BB%93"><span class="toc-number">26.</span> <span class="toc-text">文末总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">27.</span> <span class="toc-text">参考</span></a></li></ol></div><div class="related panel pjax" data-title="関連記事"><ul><li class="active"><a href="/computer-science/python/python-all-base/" rel="bookmark" title="Python 超级长文全通关">Python 超级长文全通关</a></li></ul></div><div class="overview panel" data-title="概要"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="チンモク" data-src="/images/avatar.jpg"><p class="name" itemprop="name">チンモク</p><div class="description" itemprop="description">チンモクのブログ</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">16</span> <span class="name">ポスト</span></a></div><div class="item categories"><a href="/categories/"><span class="count">13</span> <span class="name">カテゴリ</span></a></div><div class="item tags"><a href="/tags/"><span class="count">17</span> <span class="name">タグ</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hmYy1leGNsYXZl" title="https:&#x2F;&#x2F;github.com&#x2F;xfc-exclave"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9ydXJpc216aw==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;rurismzk"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTExMjg2ODg2Mw==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;112868863"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20vYW1laGltZQ==" title="https:&#x2F;&#x2F;weibo.com&#x2F;amehime"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span> <span class="exturl item email" data-url="bWFpbHRvOnhmY19leGNsYXZlQDE2My5jb20=" title="mailto:xfc_exclave@163.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>ホーム</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>投稿</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>アーカイブ</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>カテゴリ</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>タグ</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-link-circle"></i>リンク</a><ul class="submenu"><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友人帳</a></li><li class="item"><a href="/websites/" rel="section"><i class="ic i-sun"></i>サイト</a></li></ul></li><li class="item"><a href="/plan/" rel="section"><i class="ic i-stars"></i>学習計画</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>ランダムな記事</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="カテゴリ 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/" title="カテゴリ JAVA 学习路线">JAVA 学习路线</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/%E6%89%A9%E5%B1%95%E7%AF%87/" title="カテゴリ 扩展篇">扩展篇</a></div><span><a href="/computer-science/java-learning-path/6-extension/quartz-tutorial/" title="Quartz 快速入门及常规使用">Quartz 快速入门及常规使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%BB%BA%E7%AB%99%E5%91%A8%E8%BE%B9%E7%9F%A5%E8%AF%86/" title="カテゴリ 建站周边知识">建站周边知识</a></div><span><a href="/computer-science/others/blog-without-server/" title="Hexo-技术小白搭建个人博客">Hexo-技术小白搭建个人博客</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="カテゴリ 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/" title="カテゴリ JAVA 学习路线">JAVA 学习路线</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/%E8%BF%9B%E9%98%B6%E7%AF%87/" title="カテゴリ 进阶篇">进阶篇</a></div><span><a href="/computer-science/java-learning-path/2-intermediate/springcloud-tutorial/" title="SpringCloud教程（Finchley.RELEASE）">SpringCloud教程（Finchley.RELEASE）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/language/" title="カテゴリ 语言学习">语言学习</a> <i class="ic i-angle-right"></i> <a href="/categories/language/japanese/" title="カテゴリ 日语">日语</a> <i class="ic i-angle-right"></i> <a href="/categories/language/japanese/standard-japanese/" title="カテゴリ 標準日本語入門">標準日本語入門</a></div><span><a href="/language/japanese/standard-japanese/standard-japanese-01/" title="標準日本語の入門（一）">標準日本語の入門（一）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="カテゴリ 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/" title="カテゴリ JAVA 学习路线">JAVA 学习路线</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/%E9%AB%98%E7%BA%A7%E7%AF%87/" title="カテゴリ 高级篇">高级篇</a></div><span><a href="/computer-science/java-learning-path/3-advanced/rabbitmq-tutorial/" title="RabbitMQ 教程">RabbitMQ 教程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/language/" title="カテゴリ 语言学习">语言学习</a> <i class="ic i-angle-right"></i> <a href="/categories/language/japanese/" title="カテゴリ 日语">日语</a> <i class="ic i-angle-right"></i> <a href="/categories/language/japanese/standard-japanese/" title="カテゴリ 標準日本語入門">標準日本語入門</a></div><span><a href="/language/japanese/standard-japanese/standard-japanese-02/" title="標準日本語の入門（二）">標準日本語の入門（二）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="カテゴリ 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/" title="カテゴリ JAVA 学习路线">JAVA 学习路线</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/%E9%AB%98%E7%BA%A7%E7%AF%87/" title="カテゴリ 高级篇">高级篇</a></div><span><a href="/computer-science/java-learning-path/3-advanced/activemq-tutorial/" title="ActiveMQ 教程-从安装到使用">ActiveMQ 教程-从安装到使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%B5%84%E6%BA%90%E6%94%B6%E9%9B%86/" title="カテゴリ 资源收集">资源收集</a></div><span><a href="/computer-science/resource/wallpaper_site/" title="高清壁纸网站推荐">高清壁纸网站推荐</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="カテゴリ 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/" title="カテゴリ JAVA 学习路线">JAVA 学习路线</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/%E8%BF%9B%E9%98%B6%E7%AF%87/" title="カテゴリ 进阶篇">进阶篇</a></div><span><a href="/computer-science/java-learning-path/2-intermediate/mybatis-tutorial/" title="MyBatis教程">MyBatis教程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="カテゴリ 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/" title="カテゴリ JAVA 学习路线">JAVA 学习路线</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java-learning-path/%E8%BF%9B%E9%98%B6%E7%AF%87/" title="カテゴリ 进阶篇">进阶篇</a></div><span><a href="/computer-science/java-learning-path/2-intermediate/spring-tutorial/" title="Spring教程">Spring教程</a></span></li></ul></div><div><h2>最近のコメント</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">チンモク @ Chinmoku</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="単語の総数">342k 単語</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="読書の合計時間">5:11</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"computer-science/python/python-all-base/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"検索…",empty:"「 ${query} 」については何も見つかりませんでした",stats:"${time} ms以内に ${hits} 件の結果が見つかりました"},valine:!0,copy_tex:!0,katex:!0,fancybox:!0,copyright:"コピーは成功しました。 <br> 再印刷については、 ％s 契約に従ってください。",ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>